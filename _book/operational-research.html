<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 9 Operational Research | Applications of R in Healthcare</title>
  <meta name="description" content="This is a book describing the use of R in Healthcare. It is aimed at beginners of R language. The majority of the examples are taken from works in Neurology. Where possible data from other disease such as heart disease, cancer and vaccine are used. The ideas and principles can be applied to other aspects of Healthcare. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 9 Operational Research | Applications of R in Healthcare" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a book describing the use of R in Healthcare. It is aimed at beginners of R language. The majority of the examples are taken from works in Neurology. Where possible data from other disease such as heart disease, cancer and vaccine are used. The ideas and principles can be applied to other aspects of Healthcare. The output format for this example is bookdown::gitbook." />
  <meta name="github-repo" content="GNtem2/HealthcareRbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 9 Operational Research | Applications of R in Healthcare" />
  
  <meta name="twitter:description" content="This is a book describing the use of R in Healthcare. It is aimed at beginners of R language. The majority of the examples are taken from works in Neurology. Where possible data from other disease such as heart disease, cancer and vaccine are used. The ideas and principles can be applied to other aspects of Healthcare. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Thanh Phan" />


<meta name="date" content="2024-02-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="bayesian-analysis.html"/>
<link rel="next" href="graph-theory.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.10/grViz.js"></script>
<script src="libs/d3-3.3.8/d3.min.js"></script>
<script src="libs/dagre-0.4.0/dagre-d3.min.js"></script>
<link href="libs/mermaid-0.3.0/dist/mermaid.css" rel="stylesheet" />
<script src="libs/mermaid-0.3.0/dist/mermaid.slim.min.js"></script>
<script src="libs/chromatography-0.1/chromatography.js"></script>
<script src="libs/DiagrammeR-binding-1.0.10/DiagrammeR.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Applications-of-R-in-Healthcare</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preamble</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#plot-using-base-r"><i class="fa fa-check"></i><b>2.1</b> Plot using base R</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#ggplot2"><i class="fa fa-check"></i><b>2.2</b> ggplot2</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="intro.html"><a href="intro.html#histogram"><i class="fa fa-check"></i><b>2.2.1</b> Histogram</a></li>
<li class="chapter" data-level="2.2.2" data-path="intro.html"><a href="intro.html#bar-plot"><i class="fa fa-check"></i><b>2.2.2</b> Bar plot</a></li>
<li class="chapter" data-level="2.2.3" data-path="intro.html"><a href="intro.html#pie-chart"><i class="fa fa-check"></i><b>2.2.3</b> Pie chart</a></li>
<li class="chapter" data-level="2.2.4" data-path="intro.html"><a href="intro.html#scatter-plot"><i class="fa fa-check"></i><b>2.2.4</b> Scatter plot</a></li>
<li class="chapter" data-level="2.2.5" data-path="intro.html"><a href="intro.html#arrange-plot-in-grids"><i class="fa fa-check"></i><b>2.2.5</b> arrange plot in grids</a></li>
<li class="chapter" data-level="2.2.6" data-path="intro.html"><a href="intro.html#line-plot"><i class="fa fa-check"></i><b>2.2.6</b> Line plot</a></li>
<li class="chapter" data-level="2.2.7" data-path="intro.html"><a href="intro.html#facet-wrap"><i class="fa fa-check"></i><b>2.2.7</b> Facet wrap</a></li>
<li class="chapter" data-level="2.2.8" data-path="intro.html"><a href="intro.html#polygons"><i class="fa fa-check"></i><b>2.2.8</b> Polygons</a></li>
<li class="chapter" data-level="2.2.9" data-path="intro.html"><a href="intro.html#gantt-chart"><i class="fa fa-check"></i><b>2.2.9</b> Gantt chart</a></li>
<li class="chapter" data-level="2.2.10" data-path="intro.html"><a href="intro.html#heatmap"><i class="fa fa-check"></i><b>2.2.10</b> Heatmap</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#ggplot2-extra"><i class="fa fa-check"></i><b>2.3</b> ggplot2 extra</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="intro.html"><a href="intro.html#alluvial-and-sankey-diagram"><i class="fa fa-check"></i><b>2.3.1</b> Alluvial and Sankey diagram</a></li>
<li class="chapter" data-level="2.3.2" data-path="intro.html"><a href="intro.html#survival-plot"><i class="fa fa-check"></i><b>2.3.2</b> Survival plot</a></li>
<li class="chapter" data-level="2.3.3" data-path="intro.html"><a href="intro.html#ggraph-and-tidygraph"><i class="fa fa-check"></i><b>2.3.3</b> ggraph and tidygraph</a></li>
<li class="chapter" data-level="2.3.4" data-path="intro.html"><a href="intro.html#ggparty-decision-tree"><i class="fa fa-check"></i><b>2.3.4</b> ggparty-decision tree</a></li>
<li class="chapter" data-level="2.3.5" data-path="intro.html"><a href="intro.html#map"><i class="fa fa-check"></i><b>2.3.5</b> Map</a></li>
<li class="chapter" data-level="2.3.6" data-path="intro.html"><a href="intro.html#ggwordcloud"><i class="fa fa-check"></i><b>2.3.6</b> ggwordcloud</a></li>
<li class="chapter" data-level="2.3.7" data-path="intro.html"><a href="intro.html#gganimate"><i class="fa fa-check"></i><b>2.3.7</b> gganimate</a></li>
<li class="chapter" data-level="2.3.8" data-path="intro.html"><a href="intro.html#ggneuro"><i class="fa fa-check"></i><b>2.3.8</b> ggneuro</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#plotly"><i class="fa fa-check"></i><b>2.4</b> plotly</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="intro.html"><a href="intro.html#scatter-plot-with-plotly"><i class="fa fa-check"></i><b>2.4.1</b> Scatter plot with plotly</a></li>
<li class="chapter" data-level="2.4.2" data-path="intro.html"><a href="intro.html#bar-plot-with-plotly"><i class="fa fa-check"></i><b>2.4.2</b> Bar plot with plotly</a></li>
<li class="chapter" data-level="2.4.3" data-path="intro.html"><a href="intro.html#heatmap-1"><i class="fa fa-check"></i><b>2.4.3</b> Heatmap</a></li>
<li class="chapter" data-level="2.4.4" data-path="intro.html"><a href="intro.html#map-1"><i class="fa fa-check"></i><b>2.4.4</b> map</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-wrangling.html"><a href="data-wrangling.html"><i class="fa fa-check"></i><b>3</b> Data Wrangling</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-wrangling.html"><a href="data-wrangling.html#data"><i class="fa fa-check"></i><b>3.1</b> Data</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-wrangling.html"><a href="data-wrangling.html#vector-arrays-matrix"><i class="fa fa-check"></i><b>3.1.1</b> Vector, Arrays, Matrix</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-wrangling.html"><a href="data-wrangling.html#operators"><i class="fa fa-check"></i><b>3.1.2</b> Operators</a></li>
<li class="chapter" data-level="3.1.3" data-path="data-wrangling.html"><a href="data-wrangling.html#simple-function"><i class="fa fa-check"></i><b>3.1.3</b> Simple function</a></li>
<li class="chapter" data-level="3.1.4" data-path="data-wrangling.html"><a href="data-wrangling.html#for-loop"><i class="fa fa-check"></i><b>3.1.4</b> for loop</a></li>
<li class="chapter" data-level="3.1.5" data-path="data-wrangling.html"><a href="data-wrangling.html#apply-lapply-sapply"><i class="fa fa-check"></i><b>3.1.5</b> apply, lapply, sapply</a></li>
<li class="chapter" data-level="3.1.6" data-path="data-wrangling.html"><a href="data-wrangling.html#functional"><i class="fa fa-check"></i><b>3.1.6</b> Functional</a></li>
<li class="chapter" data-level="3.1.7" data-path="data-wrangling.html"><a href="data-wrangling.html#iteration"><i class="fa fa-check"></i><b>3.1.7</b> Iteration</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-wrangling.html"><a href="data-wrangling.html#data-storage"><i class="fa fa-check"></i><b>3.2</b> Data storage</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-wrangling.html"><a href="data-wrangling.html#data-frame"><i class="fa fa-check"></i><b>3.2.1</b> Data frame</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-wrangling.html"><a href="data-wrangling.html#excel-data"><i class="fa fa-check"></i><b>3.2.2</b> Excel data</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-wrangling.html"><a href="data-wrangling.html#foreign-data"><i class="fa fa-check"></i><b>3.2.3</b> Foreign data</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-wrangling.html"><a href="data-wrangling.html#json-format"><i class="fa fa-check"></i><b>3.2.4</b> json format</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-wrangling.html"><a href="data-wrangling.html#tidy-data"><i class="fa fa-check"></i><b>3.3</b> Tidy data</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-wrangling.html"><a href="data-wrangling.html#factors"><i class="fa fa-check"></i><b>3.3.1</b> Factors</a></li>
<li class="chapter" data-level="3.3.2" data-path="data-wrangling.html"><a href="data-wrangling.html#multiple-files"><i class="fa fa-check"></i><b>3.3.2</b> Multiple files</a></li>
<li class="chapter" data-level="3.3.3" data-path="data-wrangling.html"><a href="data-wrangling.html#tidy-evaluation"><i class="fa fa-check"></i><b>3.3.3</b> Tidy evaluation</a></li>
<li class="chapter" data-level="3.3.4" data-path="data-wrangling.html"><a href="data-wrangling.html#pivot-wide-and-long"><i class="fa fa-check"></i><b>3.3.4</b> Pivot wide and long</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-wrangling.html"><a href="data-wrangling.html#regular-expressions"><i class="fa fa-check"></i><b>3.4</b> Regular Expressions</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="data-wrangling.html"><a href="data-wrangling.html#base-r"><i class="fa fa-check"></i><b>3.4.1</b> base R</a></li>
<li class="chapter" data-level="3.4.2" data-path="data-wrangling.html"><a href="data-wrangling.html#stringr"><i class="fa fa-check"></i><b>3.4.2</b> stringr</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="data-wrangling.html"><a href="data-wrangling.html#pdf-to-xcel"><i class="fa fa-check"></i><b>3.5</b> PDF to xcel</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="data-wrangling.html"><a href="data-wrangling.html#scanned-text-or-picture"><i class="fa fa-check"></i><b>3.5.1</b> Scanned text or picture</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="data-wrangling.html"><a href="data-wrangling.html#web-scraping"><i class="fa fa-check"></i><b>3.6</b> Web scraping</a></li>
<li class="chapter" data-level="3.7" data-path="data-wrangling.html"><a href="data-wrangling.html#medical-images"><i class="fa fa-check"></i><b>3.7</b> Medical Images</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="data-wrangling.html"><a href="data-wrangling.html#dicom-and-nifti-format"><i class="fa fa-check"></i><b>3.7.1</b> DICOM and nifti format</a></li>
<li class="chapter" data-level="3.7.2" data-path="data-wrangling.html"><a href="data-wrangling.html#manipulating-array-of-medical-images"><i class="fa fa-check"></i><b>3.7.2</b> Manipulating array of medical images</a></li>
<li class="chapter" data-level="3.7.3" data-path="data-wrangling.html"><a href="data-wrangling.html#combining-arrays"><i class="fa fa-check"></i><b>3.7.3</b> Combining arrays</a></li>
<li class="chapter" data-level="3.7.4" data-path="data-wrangling.html"><a href="data-wrangling.html#math-operation-on-multidimensional-array"><i class="fa fa-check"></i><b>3.7.4</b> Math operation on multidimensional array</a></li>
<li class="chapter" data-level="3.7.5" data-path="data-wrangling.html"><a href="data-wrangling.html#math-operation-on-list"><i class="fa fa-check"></i><b>3.7.5</b> Math operation on list</a></li>
<li class="chapter" data-level="3.7.6" data-path="data-wrangling.html"><a href="data-wrangling.html#vectorising-nifti-object"><i class="fa fa-check"></i><b>3.7.6</b> Vectorising nifti object</a></li>
<li class="chapter" data-level="3.7.7" data-path="data-wrangling.html"><a href="data-wrangling.html#tar-file"><i class="fa fa-check"></i><b>3.7.7</b> tar file</a></li>
<li class="chapter" data-level="3.7.8" data-path="data-wrangling.html"><a href="data-wrangling.html#image-registration"><i class="fa fa-check"></i><b>3.7.8</b> Image registration</a></li>
<li class="chapter" data-level="3.7.9" data-path="data-wrangling.html"><a href="data-wrangling.html#rescaling"><i class="fa fa-check"></i><b>3.7.9</b> Rescaling</a></li>
<li class="chapter" data-level="3.7.10" data-path="data-wrangling.html"><a href="data-wrangling.html#mni-template"><i class="fa fa-check"></i><b>3.7.10</b> MNI template</a></li>
<li class="chapter" data-level="3.7.11" data-path="data-wrangling.html"><a href="data-wrangling.html#atlases"><i class="fa fa-check"></i><b>3.7.11</b> Atlases</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="data-wrangling.html"><a href="data-wrangling.html#ecg-signal-processing"><i class="fa fa-check"></i><b>3.8</b> ECG Signal processing</a></li>
<li class="chapter" data-level="3.9" data-path="data-wrangling.html"><a href="data-wrangling.html#eeg-signal-processing"><i class="fa fa-check"></i><b>3.9</b> EEG signal processing</a></li>
<li class="chapter" data-level="3.10" data-path="data-wrangling.html"><a href="data-wrangling.html#python"><i class="fa fa-check"></i><b>3.10</b> Python</a>
<ul>
<li class="chapter" data-level="3.10.1" data-path="data-wrangling.html"><a href="data-wrangling.html#reticulate"><i class="fa fa-check"></i><b>3.10.1</b> Reticulate</a></li>
<li class="chapter" data-level="3.10.2" data-path="data-wrangling.html"><a href="data-wrangling.html#minconda"><i class="fa fa-check"></i><b>3.10.2</b> Minconda</a></li>
<li class="chapter" data-level="3.10.3" data-path="data-wrangling.html"><a href="data-wrangling.html#python-environment"><i class="fa fa-check"></i><b>3.10.3</b> Python environment</a></li>
</ul></li>
<li class="chapter" data-level="3.11" data-path="data-wrangling.html"><a href="data-wrangling.html#matlab"><i class="fa fa-check"></i><b>3.11</b> Matlab</a></li>
<li class="chapter" data-level="3.12" data-path="data-wrangling.html"><a href="data-wrangling.html#stata"><i class="fa fa-check"></i><b>3.12</b> Stata</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>4</b> Statistics</a>
<ul>
<li class="chapter" data-level="4.1" data-path="statistics.html"><a href="statistics.html#univariable-analyses"><i class="fa fa-check"></i><b>4.1</b> Univariable analyses</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="statistics.html"><a href="statistics.html#parametric-tests"><i class="fa fa-check"></i><b>4.1.1</b> Parametric tests</a></li>
<li class="chapter" data-level="4.1.2" data-path="statistics.html"><a href="statistics.html#non-parametric-tests"><i class="fa fa-check"></i><b>4.1.2</b> Non-parametric tests</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="statistics.html"><a href="statistics.html#regression"><i class="fa fa-check"></i><b>4.2</b> Regression</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="statistics.html"><a href="statistics.html#brief-review-of-matrix"><i class="fa fa-check"></i><b>4.2.1</b> Brief review of matrix</a></li>
<li class="chapter" data-level="4.2.2" data-path="statistics.html"><a href="statistics.html#linear-least-square-regression"><i class="fa fa-check"></i><b>4.2.2</b> Linear (least square) regression</a></li>
<li class="chapter" data-level="4.2.3" data-path="statistics.html"><a href="statistics.html#logistic-regression"><i class="fa fa-check"></i><b>4.2.3</b> Logistic regression</a></li>
<li class="chapter" data-level="4.2.4" data-path="statistics.html"><a href="statistics.html#discrimination-and-calibration"><i class="fa fa-check"></i><b>4.2.4</b> Discrimination and Calibration</a></li>
<li class="chapter" data-level="4.2.5" data-path="statistics.html"><a href="statistics.html#interaction"><i class="fa fa-check"></i><b>4.2.5</b> Interaction</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="statistics.html"><a href="statistics.html#confounder"><i class="fa fa-check"></i><b>4.3</b> Confounder</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="statistics.html"><a href="statistics.html#confounder-weighted-model"><i class="fa fa-check"></i><b>4.3.1</b> Confounder weighted model</a></li>
<li class="chapter" data-level="4.3.2" data-path="statistics.html"><a href="statistics.html#propensity-matching"><i class="fa fa-check"></i><b>4.3.2</b> Propensity matching</a></li>
<li class="chapter" data-level="4.3.3" data-path="statistics.html"><a href="statistics.html#e-values"><i class="fa fa-check"></i><b>4.3.3</b> E-values</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="statistics.html"><a href="statistics.html#causal-inference"><i class="fa fa-check"></i><b>4.4</b> Causal inference</a></li>
<li class="chapter" data-level="4.5" data-path="statistics.html"><a href="statistics.html#special-types-of-regression"><i class="fa fa-check"></i><b>4.5</b> Special types of regression</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="statistics.html"><a href="statistics.html#ordinal-regression"><i class="fa fa-check"></i><b>4.5.1</b> Ordinal regression</a></li>
<li class="chapter" data-level="4.5.2" data-path="statistics.html"><a href="statistics.html#survival-analysis"><i class="fa fa-check"></i><b>4.5.2</b> Survival analysis</a></li>
<li class="chapter" data-level="4.5.3" data-path="statistics.html"><a href="statistics.html#quantile-regression"><i class="fa fa-check"></i><b>4.5.3</b> Quantile regression</a></li>
<li class="chapter" data-level="4.5.4" data-path="statistics.html"><a href="statistics.html#non-negative-regression"><i class="fa fa-check"></i><b>4.5.4</b> Non-negative regression</a></li>
<li class="chapter" data-level="4.5.5" data-path="statistics.html"><a href="statistics.html#poisson-regression"><i class="fa fa-check"></i><b>4.5.5</b> Poisson regression</a></li>
<li class="chapter" data-level="4.5.6" data-path="statistics.html"><a href="statistics.html#conditional-logistic-regression"><i class="fa fa-check"></i><b>4.5.6</b> Conditional logistic regression</a></li>
<li class="chapter" data-level="4.5.7" data-path="statistics.html"><a href="statistics.html#multinomial-modelling"><i class="fa fa-check"></i><b>4.5.7</b> Multinomial modelling</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="statistics.html"><a href="statistics.html#sample-size-estimation"><i class="fa fa-check"></i><b>4.6</b> Sample size estimation</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="statistics.html"><a href="statistics.html#proportion"><i class="fa fa-check"></i><b>4.6.1</b> Proportion</a></li>
<li class="chapter" data-level="4.6.2" data-path="statistics.html"><a href="statistics.html#logistic-regression-1"><i class="fa fa-check"></i><b>4.6.2</b> Logistic regression</a></li>
<li class="chapter" data-level="4.6.3" data-path="statistics.html"><a href="statistics.html#survival-studies"><i class="fa fa-check"></i><b>4.6.3</b> Survival studies</a></li>
<li class="chapter" data-level="4.6.4" data-path="statistics.html"><a href="statistics.html#multiple-regression"><i class="fa fa-check"></i><b>4.6.4</b> Multiple regression</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="statistics.html"><a href="statistics.html#randomised-clinical-trials"><i class="fa fa-check"></i><b>4.7</b> Randomised clinical trials</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="statistics.html"><a href="statistics.html#covariate-adjustment-in-trials"><i class="fa fa-check"></i><b>4.7.1</b> Covariate adjustment in trials</a></li>
<li class="chapter" data-level="4.7.2" data-path="statistics.html"><a href="statistics.html#subgroup-analysis"><i class="fa fa-check"></i><b>4.7.2</b> Subgroup analysis</a></li>
<li class="chapter" data-level="4.7.3" data-path="statistics.html"><a href="statistics.html#p-value-for-interaction"><i class="fa fa-check"></i><b>4.7.3</b> p value for interaction</a></li>
<li class="chapter" data-level="4.7.4" data-path="statistics.html"><a href="statistics.html#interpreting-risk-reduction-in-clinical-trials"><i class="fa fa-check"></i><b>4.7.4</b> Interpreting risk reduction in clinical trials</a></li>
<li class="chapter" data-level="4.7.5" data-path="statistics.html"><a href="statistics.html#nnt-from-arr"><i class="fa fa-check"></i><b>4.7.5</b> NNT from ARR</a></li>
<li class="chapter" data-level="4.7.6" data-path="statistics.html"><a href="statistics.html#nnt-from-odds-ratio"><i class="fa fa-check"></i><b>4.7.6</b> NNT from odds ratio</a></li>
<li class="chapter" data-level="4.7.7" data-path="statistics.html"><a href="statistics.html#nnt-from-risk-ratio"><i class="fa fa-check"></i><b>4.7.7</b> NNT from risk ratio</a></li>
<li class="chapter" data-level="4.7.8" data-path="statistics.html"><a href="statistics.html#nnt-from-hazard-ratio"><i class="fa fa-check"></i><b>4.7.8</b> NNT from hazard ratio</a></li>
<li class="chapter" data-level="4.7.9" data-path="statistics.html"><a href="statistics.html#nnt-from-metaananlysis"><i class="fa fa-check"></i><b>4.7.9</b> NNT from metaananlysis</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="statistics.html"><a href="statistics.html#diagnostic-test"><i class="fa fa-check"></i><b>4.8</b> Diagnostic test</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="statistics.html"><a href="statistics.html#sensitivity-specificity"><i class="fa fa-check"></i><b>4.8.1</b> Sensitivity, specificity</a></li>
<li class="chapter" data-level="4.8.2" data-path="statistics.html"><a href="statistics.html#auc"><i class="fa fa-check"></i><b>4.8.2</b> AUC</a></li>
<li class="chapter" data-level="4.8.3" data-path="statistics.html"><a href="statistics.html#likelihood-ratio"><i class="fa fa-check"></i><b>4.8.3</b> Likelihood ratio</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="statistics.html"><a href="statistics.html#metaanalysis"><i class="fa fa-check"></i><b>4.9</b> Metaanalysis</a>
<ul>
<li class="chapter" data-level="4.9.1" data-path="statistics.html"><a href="statistics.html#quality-of-study"><i class="fa fa-check"></i><b>4.9.1</b> Quality of study</a></li>
<li class="chapter" data-level="4.9.2" data-path="statistics.html"><a href="statistics.html#prisma"><i class="fa fa-check"></i><b>4.9.2</b> PRISMA</a></li>
<li class="chapter" data-level="4.9.3" data-path="statistics.html"><a href="statistics.html#conversion-of-median-to-mean"><i class="fa fa-check"></i><b>4.9.3</b> Conversion of median to mean</a></li>
<li class="chapter" data-level="4.9.4" data-path="statistics.html"><a href="statistics.html#inconsistency-i2"><i class="fa fa-check"></i><b>4.9.4</b> Inconsistency I2</a></li>
<li class="chapter" data-level="4.9.5" data-path="statistics.html"><a href="statistics.html#metaanalysis-of-proportion"><i class="fa fa-check"></i><b>4.9.5</b> Metaanalysis of proportion</a></li>
<li class="chapter" data-level="4.9.6" data-path="statistics.html"><a href="statistics.html#metaanalysis-of-continuous-data"><i class="fa fa-check"></i><b>4.9.6</b> Metaanalysis of continuous data</a></li>
<li class="chapter" data-level="4.9.7" data-path="statistics.html"><a href="statistics.html#bivariate-metaanalysis"><i class="fa fa-check"></i><b>4.9.7</b> Bivariate Metaanalysis</a></li>
<li class="chapter" data-level="4.9.8" data-path="statistics.html"><a href="statistics.html#metaanalysis-of-clinical-trial."><i class="fa fa-check"></i><b>4.9.8</b> Metaanalysis of clinical trial.</a></li>
<li class="chapter" data-level="4.9.9" data-path="statistics.html"><a href="statistics.html#metaregression"><i class="fa fa-check"></i><b>4.9.9</b> Metaregression</a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="statistics.html"><a href="statistics.html#data-simulation"><i class="fa fa-check"></i><b>4.10</b> Data simulation</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html"><i class="fa fa-check"></i><b>5</b> Multivariate Analysis</a>
<ul>
<li class="chapter" data-level="5.1" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#multivariate-regression"><i class="fa fa-check"></i><b>5.1</b> Multivariate regression</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#penalised-regression"><i class="fa fa-check"></i><b>5.1.1</b> Penalised regression</a></li>
<li class="chapter" data-level="5.1.2" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#mars"><i class="fa fa-check"></i><b>5.1.2</b> MARS</a></li>
<li class="chapter" data-level="5.1.3" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#mixed-modelling"><i class="fa fa-check"></i><b>5.1.3</b> Mixed modelling</a></li>
<li class="chapter" data-level="5.1.4" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#trajectory-modelling"><i class="fa fa-check"></i><b>5.1.4</b> Trajectory modelling</a></li>
<li class="chapter" data-level="5.1.5" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#generalized-estimating-equation-gee"><i class="fa fa-check"></i><b>5.1.5</b> Generalized estimating equation (GEE)</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#principal-component-analysis"><i class="fa fa-check"></i><b>5.2</b> Principal component analysis</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#pca-with-mri"><i class="fa fa-check"></i><b>5.2.1</b> PCA with MRI</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#independent-component-analysis"><i class="fa fa-check"></i><b>5.3</b> Independent component analysis</a></li>
<li class="chapter" data-level="5.4" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#partial-least-squares"><i class="fa fa-check"></i><b>5.4</b> Partial least squares</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="machine-learning.html"><a href="machine-learning.html"><i class="fa fa-check"></i><b>6</b> Machine learning</a>
<ul>
<li class="chapter" data-level="6.1" data-path="machine-learning.html"><a href="machine-learning.html#decision-tree-analysis"><i class="fa fa-check"></i><b>6.1</b> Decision tree analysis</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="machine-learning.html"><a href="machine-learning.html#information-theory-driven"><i class="fa fa-check"></i><b>6.1.1</b> Information theory driven</a></li>
<li class="chapter" data-level="6.1.2" data-path="machine-learning.html"><a href="machine-learning.html#conditional-decision-tree"><i class="fa fa-check"></i><b>6.1.2</b> Conditional decision tree</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="machine-learning.html"><a href="machine-learning.html#ensemble-tree-methods"><i class="fa fa-check"></i><b>6.2</b> Ensemble tree methods</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="machine-learning.html"><a href="machine-learning.html#bagging-trees"><i class="fa fa-check"></i><b>6.2.1</b> Bagging trees</a></li>
<li class="chapter" data-level="6.2.2" data-path="machine-learning.html"><a href="machine-learning.html#boosting-trees"><i class="fa fa-check"></i><b>6.2.2</b> Boosting trees</a></li>
<li class="chapter" data-level="6.2.3" data-path="machine-learning.html"><a href="machine-learning.html#bayesian-trees-method"><i class="fa fa-check"></i><b>6.2.3</b> Bayesian trees method</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="machine-learning.html"><a href="machine-learning.html#knn"><i class="fa fa-check"></i><b>6.3</b> KNN</a></li>
<li class="chapter" data-level="6.4" data-path="machine-learning.html"><a href="machine-learning.html#support-vector-machine"><i class="fa fa-check"></i><b>6.4</b> Support vector machine</a></li>
<li class="chapter" data-level="6.5" data-path="machine-learning.html"><a href="machine-learning.html#non-negative-matrix-factorisation"><i class="fa fa-check"></i><b>6.5</b> Non-negative matrix factorisation</a></li>
<li class="chapter" data-level="6.6" data-path="machine-learning.html"><a href="machine-learning.html#formal-concept-analysis"><i class="fa fa-check"></i><b>6.6</b> Formal concept analysis</a></li>
<li class="chapter" data-level="6.7" data-path="machine-learning.html"><a href="machine-learning.html#evolutionary-algorithm"><i class="fa fa-check"></i><b>6.7</b> Evolutionary Algorithm</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="machine-learning.html"><a href="machine-learning.html#simulated-annealing"><i class="fa fa-check"></i><b>6.7.1</b> Simulated Annealing</a></li>
<li class="chapter" data-level="6.7.2" data-path="machine-learning.html"><a href="machine-learning.html#genetic-algorithm"><i class="fa fa-check"></i><b>6.7.2</b> Genetic Algorithm</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="machine-learning.html"><a href="machine-learning.html#manifold-learning"><i class="fa fa-check"></i><b>6.8</b> Manifold learning</a>
<ul>
<li class="chapter" data-level="6.8.1" data-path="machine-learning.html"><a href="machine-learning.html#t-stochastic-neighbourhood-embedding"><i class="fa fa-check"></i><b>6.8.1</b> T-Stochastic Neighbourhood Embedding</a></li>
<li class="chapter" data-level="6.8.2" data-path="machine-learning.html"><a href="machine-learning.html#self-organising-map"><i class="fa fa-check"></i><b>6.8.2</b> Self organising map</a></li>
<li class="chapter" data-level="6.8.3" data-path="machine-learning.html"><a href="machine-learning.html#multidimensional-scaling"><i class="fa fa-check"></i><b>6.8.3</b> Multidimensional scaling</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="machine-learning.html"><a href="machine-learning.html#deep-learning"><i class="fa fa-check"></i><b>6.9</b> Deep learning</a>
<ul>
<li class="chapter" data-level="6.9.1" data-path="machine-learning.html"><a href="machine-learning.html#deep-neural-network"><i class="fa fa-check"></i><b>6.9.1</b> Deep neural network</a></li>
<li class="chapter" data-level="6.9.2" data-path="machine-learning.html"><a href="machine-learning.html#tabnet"><i class="fa fa-check"></i><b>6.9.2</b> Tabnet</a></li>
<li class="chapter" data-level="6.9.3" data-path="machine-learning.html"><a href="machine-learning.html#cnn"><i class="fa fa-check"></i><b>6.9.3</b> CNN</a></li>
<li class="chapter" data-level="6.9.4" data-path="machine-learning.html"><a href="machine-learning.html#rnn"><i class="fa fa-check"></i><b>6.9.4</b> RNN</a></li>
<li class="chapter" data-level="6.9.5" data-path="machine-learning.html"><a href="machine-learning.html#reinforcement-learning"><i class="fa fa-check"></i><b>6.9.5</b> Reinforcement learning</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="machine-learning-part-2.html"><a href="machine-learning-part-2.html"><i class="fa fa-check"></i><b>7</b> Machine Learning Part 2</a>
<ul>
<li class="chapter" data-level="7.1" data-path="machine-learning-part-2.html"><a href="machine-learning-part-2.html#bag-of-words"><i class="fa fa-check"></i><b>7.1</b> Bag of words</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="machine-learning-part-2.html"><a href="machine-learning-part-2.html#tfidf"><i class="fa fa-check"></i><b>7.1.1</b> TFIDF</a></li>
<li class="chapter" data-level="7.1.2" data-path="machine-learning-part-2.html"><a href="machine-learning-part-2.html#extracting-data-from-web"><i class="fa fa-check"></i><b>7.1.2</b> Extracting data from web</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="machine-learning-part-2.html"><a href="machine-learning-part-2.html#wordcloud"><i class="fa fa-check"></i><b>7.2</b> Wordcloud</a></li>
<li class="chapter" data-level="7.3" data-path="machine-learning-part-2.html"><a href="machine-learning-part-2.html#bigram-analysis"><i class="fa fa-check"></i><b>7.3</b> Bigram analysis</a></li>
<li class="chapter" data-level="7.4" data-path="machine-learning-part-2.html"><a href="machine-learning-part-2.html#trigram"><i class="fa fa-check"></i><b>7.4</b> Trigram</a></li>
<li class="chapter" data-level="7.5" data-path="machine-learning-part-2.html"><a href="machine-learning-part-2.html#topic-modeling-or-thematic-analysis"><i class="fa fa-check"></i><b>7.5</b> Topic modeling or thematic analysis</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="machine-learning-part-2.html"><a href="machine-learning-part-2.html#probabilistic-topic-model"><i class="fa fa-check"></i><b>7.5.1</b> Probabilistic topic model</a></li>
<li class="chapter" data-level="7.5.2" data-path="machine-learning-part-2.html"><a href="machine-learning-part-2.html#nmf"><i class="fa fa-check"></i><b>7.5.2</b> NMF</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="bayesian-analysis.html"><a href="bayesian-analysis.html"><i class="fa fa-check"></i><b>8</b> Bayesian Analysis</a>
<ul>
<li class="chapter" data-level="8.1" data-path="bayesian-analysis.html"><a href="bayesian-analysis.html#baysian-belief"><i class="fa fa-check"></i><b>8.1</b> Baysian belief</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="bayesian-analysis.html"><a href="bayesian-analysis.html#conditional-probability"><i class="fa fa-check"></i><b>8.1.1</b> Conditional probability</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="bayesian-analysis.html"><a href="bayesian-analysis.html#markov-model"><i class="fa fa-check"></i><b>8.2</b> Markov model</a></li>
<li class="chapter" data-level="8.3" data-path="bayesian-analysis.html"><a href="bayesian-analysis.html#inla-stan-and-bugs"><i class="fa fa-check"></i><b>8.3</b> INLA, Stan and BUGS</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="bayesian-analysis.html"><a href="bayesian-analysis.html#linear-regression"><i class="fa fa-check"></i><b>8.3.1</b> Linear regression</a></li>
<li class="chapter" data-level="8.3.2" data-path="bayesian-analysis.html"><a href="bayesian-analysis.html#logistic-regression-2"><i class="fa fa-check"></i><b>8.3.2</b> Logistic regression</a></li>
<li class="chapter" data-level="8.3.3" data-path="bayesian-analysis.html"><a href="bayesian-analysis.html#mixed-model"><i class="fa fa-check"></i><b>8.3.3</b> Mixed model</a></li>
<li class="chapter" data-level="8.3.4" data-path="bayesian-analysis.html"><a href="bayesian-analysis.html#bayesian-metaanalysis"><i class="fa fa-check"></i><b>8.3.4</b> Bayesian Metaanalysis</a></li>
<li class="chapter" data-level="8.3.5" data-path="bayesian-analysis.html"><a href="bayesian-analysis.html#cost"><i class="fa fa-check"></i><b>8.3.5</b> Cost</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="operational-research.html"><a href="operational-research.html"><i class="fa fa-check"></i><b>9</b> Operational Research</a>
<ul>
<li class="chapter" data-level="9.1" data-path="operational-research.html"><a href="operational-research.html#queueing-theory"><i class="fa fa-check"></i><b>9.1</b> Queueing theory</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="operational-research.html"><a href="operational-research.html#simulate-capacity-of-system"><i class="fa fa-check"></i><b>9.1.1</b> Simulate capacity of system</a></li>
<li class="chapter" data-level="9.1.2" data-path="operational-research.html"><a href="operational-research.html#queuing-network"><i class="fa fa-check"></i><b>9.1.2</b> Queuing network</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="operational-research.html"><a href="operational-research.html#linear-programming"><i class="fa fa-check"></i><b>9.2</b> Linear Programming</a></li>
<li class="chapter" data-level="9.3" data-path="operational-research.html"><a href="operational-research.html#forecasting"><i class="fa fa-check"></i><b>9.3</b> Forecasting</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="operational-research.html"><a href="operational-research.html#bed-requirement"><i class="fa fa-check"></i><b>9.3.1</b> Bed requirement</a></li>
<li class="chapter" data-level="9.3.2" data-path="operational-research.html"><a href="operational-research.html#length-of-stay"><i class="fa fa-check"></i><b>9.3.2</b> Length of stay</a></li>
<li class="chapter" data-level="9.3.3" data-path="operational-research.html"><a href="operational-research.html#customer-churns"><i class="fa fa-check"></i><b>9.3.3</b> Customer churns</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="operational-research.html"><a href="operational-research.html#process-mapping"><i class="fa fa-check"></i><b>9.4</b> Process mapping</a></li>
<li class="chapter" data-level="9.5" data-path="operational-research.html"><a href="operational-research.html#supply-chains"><i class="fa fa-check"></i><b>9.5</b> Supply chains</a></li>
<li class="chapter" data-level="9.6" data-path="operational-research.html"><a href="operational-research.html#health-economics"><i class="fa fa-check"></i><b>9.6</b> Health economics</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="operational-research.html"><a href="operational-research.html#cost-1"><i class="fa fa-check"></i><b>9.6.1</b> Cost</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="graph-theory.html"><a href="graph-theory.html"><i class="fa fa-check"></i><b>10</b> Graph Theory</a>
<ul>
<li class="chapter" data-level="10.1" data-path="graph-theory.html"><a href="graph-theory.html#special-graphs"><i class="fa fa-check"></i><b>10.1</b> Special graphs</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="graph-theory.html"><a href="graph-theory.html#laplacian-matrix"><i class="fa fa-check"></i><b>10.1.1</b> Laplacian matrix</a></li>
<li class="chapter" data-level="10.1.2" data-path="graph-theory.html"><a href="graph-theory.html#bimodal-bipartite-graph"><i class="fa fa-check"></i><b>10.1.2</b> Bimodal (bipartite) graph</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="graph-theory.html"><a href="graph-theory.html#centrality-measures"><i class="fa fa-check"></i><b>10.2</b> Centrality Measures</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="graph-theory.html"><a href="graph-theory.html#local-centrality-measures"><i class="fa fa-check"></i><b>10.2.1</b> Local centrality measures</a></li>
<li class="chapter" data-level="10.2.2" data-path="graph-theory.html"><a href="graph-theory.html#global-centrality-measures"><i class="fa fa-check"></i><b>10.2.2</b> Global centrality measures</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="graph-theory.html"><a href="graph-theory.html#community"><i class="fa fa-check"></i><b>10.3</b> Community</a></li>
<li class="chapter" data-level="10.4" data-path="graph-theory.html"><a href="graph-theory.html#visualising-graph"><i class="fa fa-check"></i><b>10.4</b> Visualising graph</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="graph-theory.html"><a href="graph-theory.html#visnetwork"><i class="fa fa-check"></i><b>10.4.1</b> Visnetwork</a></li>
<li class="chapter" data-level="10.4.2" data-path="graph-theory.html"><a href="graph-theory.html#large-graph"><i class="fa fa-check"></i><b>10.4.2</b> Large graph</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="graph-theory.html"><a href="graph-theory.html#social-media-and-network-analysis"><i class="fa fa-check"></i><b>10.5</b> Social Media and Network Analysis</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="graph-theory.html"><a href="graph-theory.html#twitter"><i class="fa fa-check"></i><b>10.5.1</b> Twitter</a></li>
<li class="chapter" data-level="10.5.2" data-path="graph-theory.html"><a href="graph-theory.html#youtube"><i class="fa fa-check"></i><b>10.5.2</b> Youtube</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="geospatial-analysis.html"><a href="geospatial-analysis.html"><i class="fa fa-check"></i><b>11</b> Geospatial analysis</a>
<ul>
<li class="chapter" data-level="11.1" data-path="geospatial-analysis.html"><a href="geospatial-analysis.html#geocoding"><i class="fa fa-check"></i><b>11.1</b> Geocoding</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="geospatial-analysis.html"><a href="geospatial-analysis.html#openstreetmap"><i class="fa fa-check"></i><b>11.1.1</b> OpenStreetMap</a></li>
<li class="chapter" data-level="11.1.2" data-path="geospatial-analysis.html"><a href="geospatial-analysis.html#google-maps-api"><i class="fa fa-check"></i><b>11.1.2</b> Google Maps API</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="geospatial-analysis.html"><a href="geospatial-analysis.html#sp-and-sf-objects"><i class="fa fa-check"></i><b>11.2</b> Sp and sf objects</a></li>
<li class="chapter" data-level="11.3" data-path="geospatial-analysis.html"><a href="geospatial-analysis.html#thematic-map-1"><i class="fa fa-check"></i><b>11.3</b> Thematic map</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="geospatial-analysis.html"><a href="geospatial-analysis.html#calculate-distance-to-hospital-openstreetmap"><i class="fa fa-check"></i><b>11.3.1</b> Calculate distance to Hospital-OpenStreetMap</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="geospatial-analysis.html"><a href="geospatial-analysis.html#spatial-regression"><i class="fa fa-check"></i><b>11.4</b> Spatial regression</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="geospatial-analysis.html"><a href="geospatial-analysis.html#new-york-covid-19-mortality"><i class="fa fa-check"></i><b>11.4.1</b> New York COVID-19 mortality</a></li>
<li class="chapter" data-level="11.4.2" data-path="geospatial-analysis.html"><a href="geospatial-analysis.html#danish-stroke-registry"><i class="fa fa-check"></i><b>11.4.2</b> Danish Stroke Registry</a></li>
<li class="chapter" data-level="11.4.3" data-path="geospatial-analysis.html"><a href="geospatial-analysis.html#inla"><i class="fa fa-check"></i><b>11.4.3</b> INLA</a></li>
<li class="chapter" data-level="11.4.4" data-path="geospatial-analysis.html"><a href="geospatial-analysis.html#stan"><i class="fa fa-check"></i><b>11.4.4</b> Stan</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="geospatial-analysis.html"><a href="geospatial-analysis.html#machine-learning-in-spatial-analysis"><i class="fa fa-check"></i><b>11.5</b> Machine learning in spatial analysis</a></li>
<li class="chapter" data-level="11.6" data-path="geospatial-analysis.html"><a href="geospatial-analysis.html#spatio-temporal-regression"><i class="fa fa-check"></i><b>11.6</b> Spatio-temporal regression</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="app.html"><a href="app.html"><i class="fa fa-check"></i><b>12</b> App</a>
<ul>
<li class="chapter" data-level="12.1" data-path="app.html"><a href="app.html#brief-introduction-to-shiny-app"><i class="fa fa-check"></i><b>12.1</b> Brief introduction to Shiny app</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>13</b> Appendix</a>
<ul>
<li class="chapter" data-level="13.1" data-path="appendix.html"><a href="appendix.html#brief-introduction-to-matrix"><i class="fa fa-check"></i><b>13.1</b> Brief introduction to Matrix</a></li>
<li class="chapter" data-level="13.2" data-path="appendix.html"><a href="appendix.html#regression-1"><i class="fa fa-check"></i><b>13.2</b> Regression</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="appendix.html"><a href="appendix.html#linear-regression-1"><i class="fa fa-check"></i><b>13.2.1</b> Linear regression</a></li>
<li class="chapter" data-level="13.2.2" data-path="appendix.html"><a href="appendix.html#logistic-regression-3"><i class="fa fa-check"></i><b>13.2.2</b> Logistic regression</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Applications of R in Healthcare</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="operational-research" class="section level1 hasAnchor" number="9">
<h1><span class="header-section-number">Chapter 9</span> Operational Research<a href="operational-research.html#operational-research" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="queueing-theory" class="section level2 hasAnchor" number="9.1">
<h2><span class="header-section-number">9.1</span> Queueing theory<a href="operational-research.html#queueing-theory" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Queueing theory describes the movement of a queue such as customer arrival in bank, shop or emergency department. It seeks to balance supply and demand for a service. It begun with the study queue waiting on Danish telephones in 1909.</p>
<p>Little’s theorem describes the linear relationship between the number of customer <em>L</em> to the customer arrival rate <span class="math inline">\(\lambda\)</span> and the customer served per time peiod, <span class="math inline">\(\mu\)</span>. This can also be used to determine the number of beds needed for coronary care unit given 4 patients being admitted to cardiology unit, one of whom needs to be admitted to coronary care unit and would stay for an average of 3 days.</p>
<p>Queueing system is described in terms of Kendall’s notation, M/M/c/k, with exponential arrival time. Using this terminology, MM1 system has 1 server and infinite queue. An MM/2/3 system has 2 (c) servers and 1 (k-c) position in the queue. The M refers to Markov chain.</p>
<p>An example of a single server providing full service is a car wash. Example of a single multiphase server include different single stations in bank of withdrawing, deposit, information A counter at the airport or train station for economy and business passengers is considered multiserver single phase queue. A laundromat with different queues for washing and drying is an example of multiphase multiservers.</p>
<p>A traditional queue at a shop can also be seen as first in first out with the first customer served first and leave first. An issue with FIFO is that people may queue early such as overnight queue for the latest iPhone. Alternatives include last in first out queue and priority queueing in emergency department.</p>
<p>Let’s create a simple queue with 2 customers arriving per minute and 3 customers served per minute. The PO is the probability that the server is idle.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="operational-research.html#cb1-1" tabindex="-1"></a><span class="fu">library</span>(queueing)</span>
<span id="cb1-2"><a href="operational-research.html#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="operational-research.html#cb1-3" tabindex="-1"></a>lambda <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="co"># 2 customers arriving per minute</span></span>
<span id="cb1-4"><a href="operational-research.html#cb1-4" tabindex="-1"></a>mu <span class="ot">&lt;-</span> <span class="dv">3</span> <span class="co"># 3 customers served per minute</span></span>
<span id="cb1-5"><a href="operational-research.html#cb1-5" tabindex="-1"></a></span>
<span id="cb1-6"><a href="operational-research.html#cb1-6" tabindex="-1"></a><span class="co"># MM1 </span></span>
<span id="cb1-7"><a href="operational-research.html#cb1-7" tabindex="-1"></a></span>
<span id="cb1-8"><a href="operational-research.html#cb1-8" tabindex="-1"></a>mm1 <span class="ot">&lt;-</span> <span class="fu">NewInput.MM1</span>(<span class="at">lambda =</span> <span class="dv">2</span>, <span class="at">mu =</span> <span class="dv">3</span>, <span class="at">n =</span> <span class="dv">0</span>)</span>
<span id="cb1-9"><a href="operational-research.html#cb1-9" tabindex="-1"></a></span>
<span id="cb1-10"><a href="operational-research.html#cb1-10" tabindex="-1"></a><span class="co"># Create queue class object</span></span>
<span id="cb1-11"><a href="operational-research.html#cb1-11" tabindex="-1"></a>mm1_out <span class="ot">&lt;-</span> <span class="fu">QueueingModel</span>(mm1)</span>
<span id="cb1-12"><a href="operational-research.html#cb1-12" tabindex="-1"></a></span>
<span id="cb1-13"><a href="operational-research.html#cb1-13" tabindex="-1"></a><span class="co"># Report</span></span>
<span id="cb1-14"><a href="operational-research.html#cb1-14" tabindex="-1"></a><span class="fu">Report</span>(mm1_out)</span></code></pre></div>
<pre><code>## The inputs of the M/M/1 model are:
## lambda: 2, mu: 3, n: 0
## 
## The outputs of the M/M/1 model are:
## 
## The probability (p0, p1, ..., pn) of the n = 0 clients in the system are:
## 0.3333333
## The traffic intensity is: 0.666666666666667
## The server use is: 0.666666666666667
## The mean number of clients in the system is: 2
## The mean number of clients in the queue is: 1.33333333333333
## The mean number of clients in the server is: 0.666666666666667
## The mean time spend in the system is: 1
## The mean time spend in the queue is: 0.666666666666667
## The mean time spend in the server is: 0.333333333333333
## The mean time spend in the queue when there is queue is: 1
## The throughput is: 2</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="operational-research.html#cb3-1" tabindex="-1"></a><span class="co"># Summary</span></span>
<span id="cb3-2"><a href="operational-research.html#cb3-2" tabindex="-1"></a><span class="fu">summary</span>(mm1_out)</span></code></pre></div>
<pre><code>##   lambda mu c  k  m        RO        P0       Lq        Wq X L W Wqq Lqq
## 1      2  3 1 NA NA 0.6666667 0.3333333 1.333333 0.6666667 2 2 1   1   3</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="operational-research.html#cb5-1" tabindex="-1"></a><span class="fu">curve</span>(<span class="fu">dpois</span>(x, mm1<span class="sc">$</span>lambda),</span>
<span id="cb5-2"><a href="operational-research.html#cb5-2" tabindex="-1"></a>      <span class="at">from =</span> <span class="dv">0</span>, </span>
<span id="cb5-3"><a href="operational-research.html#cb5-3" tabindex="-1"></a>      <span class="at">to =</span> <span class="dv">20</span>, </span>
<span id="cb5-4"><a href="operational-research.html#cb5-4" tabindex="-1"></a>      <span class="at">type =</span> <span class="st">&quot;b&quot;</span>, </span>
<span id="cb5-5"><a href="operational-research.html#cb5-5" tabindex="-1"></a>      <span class="at">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb5-6"><a href="operational-research.html#cb5-6" tabindex="-1"></a>      <span class="at">xlab =</span> <span class="st">&quot;Number of customers&quot;</span>,</span>
<span id="cb5-7"><a href="operational-research.html#cb5-7" tabindex="-1"></a>      <span class="at">ylab =</span> <span class="st">&quot;Probability&quot;</span>,</span>
<span id="cb5-8"><a href="operational-research.html#cb5-8" tabindex="-1"></a>      <span class="at">main =</span> <span class="st">&quot;Poisson Distribution for Arrival Process&quot;</span>,</span>
<span id="cb5-9"><a href="operational-research.html#cb5-9" tabindex="-1"></a>      <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.4</span>),</span>
<span id="cb5-10"><a href="operational-research.html#cb5-10" tabindex="-1"></a>      <span class="at">n =</span> <span class="dv">21</span>)</span></code></pre></div>
<p><img src="Applications-of-R-in-Healthcare_files/figure-html/08-operational-research-1-1-1.png" width="672" /></p>
<p>Lets examine M/M/3 queue with exponential inter-arrival times, exponential service times and 3 servers.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="operational-research.html#cb6-1" tabindex="-1"></a><span class="fu">library</span>(queuecomputer)</span>
<span id="cb6-2"><a href="operational-research.html#cb6-2" tabindex="-1"></a></span>
<span id="cb6-3"><a href="operational-research.html#cb6-3" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb6-4"><a href="operational-research.html#cb6-4" tabindex="-1"></a>arrivals <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(<span class="fu">rexp</span>(n, <span class="fl">1.9</span>))</span>
<span id="cb6-5"><a href="operational-research.html#cb6-5" tabindex="-1"></a>service <span class="ot">&lt;-</span> <span class="fu">rexp</span>(n)</span>
<span id="cb6-6"><a href="operational-research.html#cb6-6" tabindex="-1"></a></span>
<span id="cb6-7"><a href="operational-research.html#cb6-7" tabindex="-1"></a>mm3 <span class="ot">&lt;-</span> <span class="fu">queue_step</span>(<span class="at">arrivals =</span> arrivals, <span class="at">service =</span> service, <span class="at">servers =</span> <span class="dv">3</span>)</span></code></pre></div>
<p>Plot the arrival and departure times</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="operational-research.html#cb7-1" tabindex="-1"></a><span class="fu">plot</span>(mm3)[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [[1]]</code></pre>
<p><img src="Applications-of-R-in-Healthcare_files/figure-html/08-operational-research-2-1-1.png" width="672" />
Plot waiting time</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="operational-research.html#cb9-1" tabindex="-1"></a><span class="fu">plot</span>(mm3)[<span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [[1]]</code></pre>
<p><img src="Applications-of-R-in-Healthcare_files/figure-html/08-operational-research-2-2-1.png" width="672" /></p>
<p>Plot customer in queue</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="operational-research.html#cb11-1" tabindex="-1"></a><span class="fu">plot</span>(mm3)[<span class="dv">3</span>]</span></code></pre></div>
<pre><code>## [[1]]</code></pre>
<p><img src="Applications-of-R-in-Healthcare_files/figure-html/08-operational-research-2-3-1.png" width="672" /></p>
<p>Plot customer and server status</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="operational-research.html#cb13-1" tabindex="-1"></a><span class="fu">plot</span>(mm3)[<span class="dv">4</span>]</span></code></pre></div>
<pre><code>## [[1]]</code></pre>
<p><img src="Applications-of-R-in-Healthcare_files/figure-html/08-operational-research-2-4-1.png" width="672" /></p>
<p>Plot arrival and departure time</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="operational-research.html#cb15-1" tabindex="-1"></a><span class="fu">plot</span>(mm3)[<span class="dv">5</span>]</span></code></pre></div>
<pre><code>## [[1]]</code></pre>
<p><img src="Applications-of-R-in-Healthcare_files/figure-html/08-operational-research-2-5-1.png" width="672" />
## Discrete Event Simulations</p>
<p>Discrete event simulation can be consider as modeling a complexity of system with multiple processes over time. This is different from continuous modeling of a system which evolve continuously with time. Discrete event simulation can be apply to the study of queue such as bank teller with a first in first out system.</p>
<div id="simulate-capacity-of-system" class="section level3 hasAnchor" number="9.1.1">
<h3><span class="header-section-number">9.1.1</span> Simulate capacity of system<a href="operational-research.html#simulate-capacity-of-system" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The example below is a based on examples provided in the <em>simmer</em> website for laundromat.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="operational-research.html#cb17-1" tabindex="-1"></a><span class="fu">library</span>(simmer)</span>
<span id="cb17-2"><a href="operational-research.html#cb17-2" tabindex="-1"></a><span class="fu">library</span>(parallel)</span>
<span id="cb17-3"><a href="operational-research.html#cb17-3" tabindex="-1"></a><span class="fu">library</span>(simmer.plot)</span></code></pre></div>
<pre><code>## Loading required package: ggplot2</code></pre>
<pre><code>## 
## Attaching package: &#39;simmer.plot&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:simmer&#39;:
## 
##     get_mon_arrivals, get_mon_attributes, get_mon_resources</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="operational-research.html#cb21-1" tabindex="-1"></a>NUM_ANGIO <span class="ot">&lt;-</span> <span class="dv">1</span>  <span class="co"># Number of machines for performing ECR</span></span>
<span id="cb21-2"><a href="operational-research.html#cb21-2" tabindex="-1"></a>ECRTIME <span class="ot">&lt;-</span> <span class="dv">1</span>     <span class="co"># hours it takes to perform ECR~ 90/60</span></span>
<span id="cb21-3"><a href="operational-research.html#cb21-3" tabindex="-1"></a>T_INTER <span class="ot">&lt;-</span> <span class="dv">13</span> <span class="co"># new patient every ~365*24/700 hours</span></span>
<span id="cb21-4"><a href="operational-research.html#cb21-4" tabindex="-1"></a>SIM_TIME <span class="ot">&lt;-</span> <span class="dv">24</span><span class="sc">*</span><span class="dv">30</span>     <span class="co"># Simulation time over 30 days</span></span>
<span id="cb21-5"><a href="operational-research.html#cb21-5" tabindex="-1"></a></span>
<span id="cb21-6"><a href="operational-research.html#cb21-6" tabindex="-1"></a><span class="co"># setup</span></span>
<span id="cb21-7"><a href="operational-research.html#cb21-7" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb21-8"><a href="operational-research.html#cb21-8" tabindex="-1"></a>env <span class="ot">&lt;-</span> <span class="fu">simmer</span>()</span>
<span id="cb21-9"><a href="operational-research.html#cb21-9" tabindex="-1"></a>patient <span class="ot">&lt;-</span> <span class="fu">trajectory</span>() <span class="sc">%&gt;%</span></span>
<span id="cb21-10"><a href="operational-research.html#cb21-10" tabindex="-1"></a>  <span class="fu">log_</span>(<span class="st">&quot;arrives at the ECR&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-11"><a href="operational-research.html#cb21-11" tabindex="-1"></a>  <span class="fu">seize</span>(<span class="st">&quot;removeclot&quot;</span>, <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-12"><a href="operational-research.html#cb21-12" tabindex="-1"></a>  <span class="fu">log_</span>(<span class="st">&quot;enters the ECR&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-13"><a href="operational-research.html#cb21-13" tabindex="-1"></a>  <span class="fu">timeout</span>(ECRTIME) <span class="sc">%&gt;%</span></span>
<span id="cb21-14"><a href="operational-research.html#cb21-14" tabindex="-1"></a>  <span class="fu">set_attribute</span>(<span class="st">&quot;clot_removed&quot;</span>, <span class="cf">function</span>() <span class="fu">sample</span>(<span class="dv">50</span><span class="sc">:</span><span class="dv">99</span>, <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb21-15"><a href="operational-research.html#cb21-15" tabindex="-1"></a>  <span class="fu">log_</span>(<span class="cf">function</span>() </span>
<span id="cb21-16"><a href="operational-research.html#cb21-16" tabindex="-1"></a>    <span class="fu">paste0</span>(<span class="fu">get_attribute</span>(env, <span class="st">&quot;clot_removed&quot;</span>), <span class="st">&quot;% of clot was removed&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb21-17"><a href="operational-research.html#cb21-17" tabindex="-1"></a>  <span class="fu">release</span>(<span class="st">&quot;removeclot&quot;</span>, <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-18"><a href="operational-research.html#cb21-18" tabindex="-1"></a>  <span class="fu">log_</span>(<span class="st">&quot;leaves the ECR&quot;</span>)</span>
<span id="cb21-19"><a href="operational-research.html#cb21-19" tabindex="-1"></a>env <span class="sc">%&gt;%</span></span>
<span id="cb21-20"><a href="operational-research.html#cb21-20" tabindex="-1"></a>  <span class="fu">add_resource</span>(<span class="st">&quot;removeclot&quot;</span>, NUM_ANGIO) <span class="sc">%&gt;%</span></span>
<span id="cb21-21"><a href="operational-research.html#cb21-21" tabindex="-1"></a>  <span class="co"># feed the trajectory with 4 initial patients</span></span>
<span id="cb21-22"><a href="operational-research.html#cb21-22" tabindex="-1"></a>  <span class="fu">add_generator</span>(<span class="st">&quot;patient_initial&quot;</span>, patient, <span class="fu">at</span>(<span class="fu">rep</span>(<span class="dv">0</span>, <span class="dv">4</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb21-23"><a href="operational-research.html#cb21-23" tabindex="-1"></a>  <span class="co"># new patient approx. every T_INTER minutes</span></span>
<span id="cb21-24"><a href="operational-research.html#cb21-24" tabindex="-1"></a>  <span class="fu">add_generator</span>(<span class="st">&quot;patient&quot;</span>, patient, <span class="cf">function</span>() <span class="fu">sample</span>((T_INTER<span class="dv">-2</span>)<span class="sc">:</span>(T_INTER<span class="sc">+</span><span class="dv">2</span>), <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb21-25"><a href="operational-research.html#cb21-25" tabindex="-1"></a>  <span class="co"># start the simulation</span></span>
<span id="cb21-26"><a href="operational-research.html#cb21-26" tabindex="-1"></a>  <span class="fu">run</span>(SIM_TIME)</span></code></pre></div>
<pre><code>## 0: patient_initial0: arrives at the ECR
## 0: patient_initial0: enters the ECR
## 0: patient_initial1: arrives at the ECR
## 0: patient_initial2: arrives at the ECR
## 0: patient_initial3: arrives at the ECR
## 1: patient_initial0: 86% of clot was removed
## 1: patient_initial0: leaves the ECR
## 1: patient_initial1: enters the ECR
## 2: patient_initial1: 50% of clot was removed
## 2: patient_initial1: leaves the ECR
## 2: patient_initial2: enters the ECR
## 3: patient_initial2: 74% of clot was removed
## 3: patient_initial2: leaves the ECR
## 3: patient_initial3: enters the ECR
## 4: patient_initial3: 59% of clot was removed
## 4: patient_initial3: leaves the ECR
## 11: patient0: arrives at the ECR
## 11: patient0: enters the ECR
## 12: patient0: 67% of clot was removed
## 12: patient0: leaves the ECR
## 25: patient1: arrives at the ECR
## 25: patient1: enters the ECR
## 26: patient1: 98% of clot was removed
## 26: patient1: leaves the ECR
## 37: patient2: arrives at the ECR
## 37: patient2: enters the ECR
## 38: patient2: 74% of clot was removed
## 38: patient2: leaves the ECR
## 51: patient3: arrives at the ECR
## 51: patient3: enters the ECR
## 52: patient3: 95% of clot was removed
## 52: patient3: leaves the ECR
## 66: patient4: arrives at the ECR
## 66: patient4: enters the ECR
## 67: patient4: 75% of clot was removed
## 67: patient4: leaves the ECR
## 80: patient5: arrives at the ECR
## 80: patient5: enters the ECR
## 81: patient5: 96% of clot was removed
## 81: patient5: leaves the ECR
## 92: patient6: arrives at the ECR
## 92: patient6: enters the ECR
## 93: patient6: 90% of clot was removed
## 93: patient6: leaves the ECR
## 105: patient7: arrives at the ECR
## 105: patient7: enters the ECR
## 106: patient7: 76% of clot was removed
## 106: patient7: leaves the ECR
## 116: patient8: arrives at the ECR
## 116: patient8: enters the ECR
## 117: patient8: 86% of clot was removed
## 117: patient8: leaves the ECR
## 130: patient9: arrives at the ECR
## 130: patient9: enters the ECR
## 131: patient9: 54% of clot was removed
## 131: patient9: leaves the ECR
## 145: patient10: arrives at the ECR
## 145: patient10: enters the ECR
## 146: patient10: 83% of clot was removed
## 146: patient10: leaves the ECR
## 159: patient11: arrives at the ECR
## 159: patient11: enters the ECR
## 160: patient11: 89% of clot was removed
## 160: patient11: leaves the ECR
## 173: patient12: arrives at the ECR
## 173: patient12: enters the ECR
## 174: patient12: 82% of clot was removed
## 174: patient12: leaves the ECR
## 186: patient13: arrives at the ECR
## 186: patient13: enters the ECR
## 187: patient13: 73% of clot was removed
## 187: patient13: leaves the ECR
## 198: patient14: arrives at the ECR
## 198: patient14: enters the ECR
## 199: patient14: 64% of clot was removed
## 199: patient14: leaves the ECR
## 211: patient15: arrives at the ECR
## 211: patient15: enters the ECR
## 212: patient15: 57% of clot was removed
## 212: patient15: leaves the ECR
## 223: patient16: arrives at the ECR
## 223: patient16: enters the ECR
## 224: patient16: 53% of clot was removed
## 224: patient16: leaves the ECR
## 237: patient17: arrives at the ECR
## 237: patient17: enters the ECR
## 238: patient17: 94% of clot was removed
## 238: patient17: leaves the ECR
## 249: patient18: arrives at the ECR
## 249: patient18: enters the ECR
## 250: patient18: 54% of clot was removed
## 250: patient18: leaves the ECR
## 263: patient19: arrives at the ECR
## 263: patient19: enters the ECR
## 264: patient19: 83% of clot was removed
## 264: patient19: leaves the ECR
## 277: patient20: arrives at the ECR
## 277: patient20: enters the ECR
## 278: patient20: 84% of clot was removed
## 278: patient20: leaves the ECR
## 289: patient21: arrives at the ECR
## 289: patient21: enters the ECR
## 290: patient21: 75% of clot was removed
## 290: patient21: leaves the ECR
## 300: patient22: arrives at the ECR
## 300: patient22: enters the ECR
## 301: patient22: 55% of clot was removed
## 301: patient22: leaves the ECR
## 312: patient23: arrives at the ECR
## 312: patient23: enters the ECR
## 313: patient23: 52% of clot was removed
## 313: patient23: leaves the ECR
## 324: patient24: arrives at the ECR
## 324: patient24: enters the ECR
## 325: patient24: 51% of clot was removed
## 325: patient24: leaves the ECR
## 339: patient25: arrives at the ECR
## 339: patient25: enters the ECR
## 340: patient25: 59% of clot was removed
## 340: patient25: leaves the ECR
## 351: patient26: arrives at the ECR
## 351: patient26: enters the ECR
## 352: patient26: 82% of clot was removed
## 352: patient26: leaves the ECR
## 366: patient27: arrives at the ECR
## 366: patient27: enters the ECR
## 367: patient27: 88% of clot was removed
## 367: patient27: leaves the ECR
## 377: patient28: arrives at the ECR
## 377: patient28: enters the ECR
## 378: patient28: 94% of clot was removed
## 378: patient28: leaves the ECR
## 391: patient29: arrives at the ECR
## 391: patient29: enters the ECR
## 392: patient29: 58% of clot was removed
## 392: patient29: leaves the ECR
## 403: patient30: arrives at the ECR
## 403: patient30: enters the ECR
## 404: patient30: 61% of clot was removed
## 404: patient30: leaves the ECR
## 418: patient31: arrives at the ECR
## 418: patient31: enters the ECR
## 419: patient31: 58% of clot was removed
## 419: patient31: leaves the ECR
## 432: patient32: arrives at the ECR
## 432: patient32: enters the ECR
## 433: patient32: 84% of clot was removed
## 433: patient32: leaves the ECR
## 445: patient33: arrives at the ECR
## 445: patient33: enters the ECR
## 446: patient33: 65% of clot was removed
## 446: patient33: leaves the ECR
## 460: patient34: arrives at the ECR
## 460: patient34: enters the ECR
## 461: patient34: 77% of clot was removed
## 461: patient34: leaves the ECR
## 475: patient35: arrives at the ECR
## 475: patient35: enters the ECR
## 476: patient35: 77% of clot was removed
## 476: patient35: leaves the ECR
## 490: patient36: arrives at the ECR
## 490: patient36: enters the ECR
## 491: patient36: 67% of clot was removed
## 491: patient36: leaves the ECR
## 502: patient37: arrives at the ECR
## 502: patient37: enters the ECR
## 503: patient37: 67% of clot was removed
## 503: patient37: leaves the ECR
## 513: patient38: arrives at the ECR
## 513: patient38: enters the ECR
## 514: patient38: 95% of clot was removed
## 514: patient38: leaves the ECR
## 528: patient39: arrives at the ECR
## 528: patient39: enters the ECR
## 529: patient39: 85% of clot was removed
## 529: patient39: leaves the ECR
## 543: patient40: arrives at the ECR
## 543: patient40: enters the ECR
## 544: patient40: 85% of clot was removed
## 544: patient40: leaves the ECR
## 554: patient41: arrives at the ECR
## 554: patient41: enters the ECR
## 555: patient41: 67% of clot was removed
## 555: patient41: leaves the ECR
## 566: patient42: arrives at the ECR
## 566: patient42: enters the ECR
## 567: patient42: 62% of clot was removed
## 567: patient42: leaves the ECR
## 579: patient43: arrives at the ECR
## 579: patient43: enters the ECR
## 580: patient43: 68% of clot was removed
## 580: patient43: leaves the ECR
## 594: patient44: arrives at the ECR
## 594: patient44: enters the ECR
## 595: patient44: 78% of clot was removed
## 595: patient44: leaves the ECR
## 608: patient45: arrives at the ECR
## 608: patient45: enters the ECR
## 609: patient45: 93% of clot was removed
## 609: patient45: leaves the ECR
## 619: patient46: arrives at the ECR
## 619: patient46: enters the ECR
## 620: patient46: 70% of clot was removed
## 620: patient46: leaves the ECR
## 630: patient47: arrives at the ECR
## 630: patient47: enters the ECR
## 631: patient47: 97% of clot was removed
## 631: patient47: leaves the ECR
## 643: patient48: arrives at the ECR
## 643: patient48: enters the ECR
## 644: patient48: 87% of clot was removed
## 644: patient48: leaves the ECR
## 658: patient49: arrives at the ECR
## 658: patient49: enters the ECR
## 659: patient49: 62% of clot was removed
## 659: patient49: leaves the ECR
## 669: patient50: arrives at the ECR
## 669: patient50: enters the ECR
## 670: patient50: 58% of clot was removed
## 670: patient50: leaves the ECR
## 684: patient51: arrives at the ECR
## 684: patient51: enters the ECR
## 685: patient51: 92% of clot was removed
## 685: patient51: leaves the ECR
## 696: patient52: arrives at the ECR
## 696: patient52: enters the ECR
## 697: patient52: 91% of clot was removed
## 697: patient52: leaves the ECR
## 708: patient53: arrives at the ECR
## 708: patient53: enters the ECR
## 709: patient53: 78% of clot was removed
## 709: patient53: leaves the ECR
## 719: patient54: arrives at the ECR
## 719: patient54: enters the ECR</code></pre>
<pre><code>## simmer environment: anonymous | now: 720 | next: 720
## { Monitor: in memory }
## { Resource: removeclot | monitored: TRUE | server status: 1(1) | queue status: 0(Inf) }
## { Source: patient_initial | monitored: 1 | n_generated: 4 }
## { Source: patient | monitored: 1 | n_generated: 56 }</code></pre>
<p>Plot the schematics of the simulation.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="operational-research.html#cb24-1" tabindex="-1"></a><span class="fu">plot</span>(patient)</span></code></pre></div>
<div class="grViz html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-72be1f50ed0d6e05f7ae" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-72be1f50ed0d6e05f7ae">{"x":{"diagram":"digraph {\n\ngraph [layout = \"dot\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\"]\n\nnode [fontname = \"sans-serif\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"1.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"Log\", shape = \"box\", style = \"solid\", color = \"black\", tooltip = \"message: arrives at..., level: 0\", fontcolor = \"black\", fillcolor = \"#000000\"] \n  \"2\" [label = \"Seize\", shape = \"box\", style = \"filled\", color = \"#7FC97F\", tooltip = \"resource: removeclot, amount: 1\", fontcolor = \"black\", fillcolor = \"#7FC97F\"] \n  \"3\" [label = \"Log\", shape = \"box\", style = \"solid\", color = \"black\", tooltip = \"message: enters the..., level: 0\", fontcolor = \"black\", fillcolor = \"#000000\"] \n  \"4\" [label = \"Timeout\", shape = \"box\", style = \"solid\", color = \"black\", tooltip = \"delay: 1\", fontcolor = \"black\", fillcolor = \"#000000\"] \n  \"5\" [label = \"SetAttribute\", shape = \"box\", style = \"solid\", color = \"black\", tooltip = \"keys: [clot_removed], values: function(), global: 0, mod: N, init: 0\", fontcolor = \"black\", fillcolor = \"#000000\"] \n  \"6\" [label = \"Log\", shape = \"box\", style = \"solid\", color = \"black\", tooltip = \"message: function(), level: 0\", fontcolor = \"black\", fillcolor = \"#000000\"] \n  \"7\" [label = \"Release\", shape = \"box\", style = \"filled\", color = \"#7FC97F\", tooltip = \"resource: removeclot, amount: 1\", fontcolor = \"black\", fillcolor = \"#7FC97F\"] \n  \"8\" [label = \"Log\", shape = \"box\", style = \"solid\", color = \"black\", tooltip = \"message: leaves the..., level: 0\", fontcolor = \"black\", fillcolor = \"#000000\"] \n\"1\"->\"2\" [color = \"black\", style = \"solid\"] \n\"2\"->\"3\" [color = \"black\", style = \"solid\"] \n\"3\"->\"4\" [color = \"black\", style = \"solid\"] \n\"4\"->\"5\" [color = \"black\", style = \"solid\"] \n\"5\"->\"6\" [color = \"black\", style = \"solid\"] \n\"6\"->\"7\" [color = \"black\", style = \"solid\"] \n\"7\"->\"8\" [color = \"black\", style = \"solid\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<p>Plot resource usage</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="operational-research.html#cb25-1" tabindex="-1"></a>resource <span class="ot">&lt;-</span> <span class="fu">get_mon_resources</span>(env)</span>
<span id="cb25-2"><a href="operational-research.html#cb25-2" tabindex="-1"></a><span class="fu">plot</span>(resource)</span></code></pre></div>
<p><img src="Applications-of-R-in-Healthcare_files/figure-html/08-operational-research-3-2-1.png" width="672" />
Total queue size</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="operational-research.html#cb26-1" tabindex="-1"></a><span class="fu">sum</span>(resource<span class="sc">$</span>queue) <span class="co">#total queue size</span></span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<p>Number of people in queue of size 1</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="operational-research.html#cb28-1" tabindex="-1"></a><span class="fu">sum</span>(resource<span class="sc">$</span>queue<span class="sc">==</span><span class="dv">1</span>) <span class="co">#number of people in queue</span></span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>Number of peope in queue of size 2</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="operational-research.html#cb30-1" tabindex="-1"></a><span class="fu">sum</span>(resource<span class="sc">$</span>queue<span class="sc">==</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>Plot arrival versus flow</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="operational-research.html#cb32-1" tabindex="-1"></a><span class="co">#View(get_mon_arrivals(env))</span></span>
<span id="cb32-2"><a href="operational-research.html#cb32-2" tabindex="-1"></a><span class="fu">plot</span>(env,<span class="at">what=</span><span class="st">&quot;arrivals&quot;</span>,<span class="at">metric=</span><span class="st">&quot;flow_time&quot;</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula = &#39;y ~ x&#39;</code></pre>
<p><img src="Applications-of-R-in-Healthcare_files/figure-html/08-operational-research-3-6-1.png" width="672" /></p>
<p>Next we simulate the process of running a stroke code. In this simulation the activities occur sequentially.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="operational-research.html#cb34-1" tabindex="-1"></a><span class="co">#simulate ST6</span></span>
<span id="cb34-2"><a href="operational-research.html#cb34-2" tabindex="-1"></a>patient <span class="ot">&lt;-</span> <span class="fu">trajectory</span>(<span class="st">&quot;patients&#39; path&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-3"><a href="operational-research.html#cb34-3" tabindex="-1"></a>  <span class="do">## add an intake activity - nurse arrive first on scene in ED to triage</span></span>
<span id="cb34-4"><a href="operational-research.html#cb34-4" tabindex="-1"></a>  <span class="co">#seize specify priority</span></span>
<span id="cb34-5"><a href="operational-research.html#cb34-5" tabindex="-1"></a>  <span class="fu">seize</span>(<span class="st">&quot;ed nurse&quot;</span>, <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-6"><a href="operational-research.html#cb34-6" tabindex="-1"></a>  <span class="co">#timeout return one random value from 5 mean+/-5 SD </span></span>
<span id="cb34-7"><a href="operational-research.html#cb34-7" tabindex="-1"></a>  <span class="fu">timeout</span>(<span class="cf">function</span>() <span class="fu">rnorm</span>(<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">5</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb34-8"><a href="operational-research.html#cb34-8" tabindex="-1"></a>  <span class="fu">release</span>(<span class="st">&quot;ed nurse&quot;</span>, <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-9"><a href="operational-research.html#cb34-9" tabindex="-1"></a>  </span>
<span id="cb34-10"><a href="operational-research.html#cb34-10" tabindex="-1"></a>  <span class="do">## add a registrar activity - stroke registrar arrive after stroke code</span></span>
<span id="cb34-11"><a href="operational-research.html#cb34-11" tabindex="-1"></a>  <span class="fu">seize</span>(<span class="st">&quot;stroke reg&quot;</span>, <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-12"><a href="operational-research.html#cb34-12" tabindex="-1"></a>  <span class="fu">timeout</span>(<span class="cf">function</span>() <span class="fu">rnorm</span>(<span class="dv">1</span>, <span class="dv">10</span>,<span class="dv">5</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb34-13"><a href="operational-research.html#cb34-13" tabindex="-1"></a>  <span class="fu">release</span>(<span class="st">&quot;stroke reg&quot;</span>, <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-14"><a href="operational-research.html#cb34-14" tabindex="-1"></a>  </span>
<span id="cb34-15"><a href="operational-research.html#cb34-15" tabindex="-1"></a>  <span class="co">#add CT scanning - the process takes 15 minutes</span></span>
<span id="cb34-16"><a href="operational-research.html#cb34-16" tabindex="-1"></a>  <span class="fu">seize</span>(<span class="st">&quot;CT scan&quot;</span>, <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-17"><a href="operational-research.html#cb34-17" tabindex="-1"></a>  <span class="fu">timeout</span>(<span class="cf">function</span>() <span class="fu">rnorm</span>(<span class="dv">1</span>, <span class="dv">15</span>,<span class="dv">15</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb34-18"><a href="operational-research.html#cb34-18" tabindex="-1"></a>  <span class="fu">release</span>(<span class="st">&quot;CT scan&quot;</span>, <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-19"><a href="operational-research.html#cb34-19" tabindex="-1"></a>  </span>
<span id="cb34-20"><a href="operational-research.html#cb34-20" tabindex="-1"></a>    <span class="co">#stroke reg re-enter</span></span>
<span id="cb34-21"><a href="operational-research.html#cb34-21" tabindex="-1"></a>    <span class="co">#seize(&quot;stroke reg&quot;, 1) %&gt;%</span></span>
<span id="cb34-22"><a href="operational-research.html#cb34-22" tabindex="-1"></a>    <span class="co">#timeout(function() rnorm(1, 10,5)) %&gt;%</span></span>
<span id="cb34-23"><a href="operational-research.html#cb34-23" tabindex="-1"></a>    <span class="co">#release(&quot;stroke reg&quot;, 1) %&gt;%</span></span>
<span id="cb34-24"><a href="operational-research.html#cb34-24" tabindex="-1"></a>  <span class="co">#branch</span></span>
<span id="cb34-25"><a href="operational-research.html#cb34-25" tabindex="-1"></a>  </span>
<span id="cb34-26"><a href="operational-research.html#cb34-26" tabindex="-1"></a>  <span class="do">## add stroke consultant - to review scan and makes decision</span></span>
<span id="cb34-27"><a href="operational-research.html#cb34-27" tabindex="-1"></a>  </span>
<span id="cb34-28"><a href="operational-research.html#cb34-28" tabindex="-1"></a>  <span class="fu">seize</span>(<span class="st">&quot;stroke consultant&quot;</span>, <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-29"><a href="operational-research.html#cb34-29" tabindex="-1"></a>  <span class="fu">timeout</span>(<span class="cf">function</span>() <span class="fu">rnorm</span>(<span class="dv">1</span>, <span class="dv">5</span>,<span class="dv">10</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb34-30"><a href="operational-research.html#cb34-30" tabindex="-1"></a>  <span class="fu">release</span>(<span class="st">&quot;stroke consultant&quot;</span>, <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-31"><a href="operational-research.html#cb34-31" tabindex="-1"></a>  </span>
<span id="cb34-32"><a href="operational-research.html#cb34-32" tabindex="-1"></a>  <span class="do">## add a thrombectomy decision activity</span></span>
<span id="cb34-33"><a href="operational-research.html#cb34-33" tabindex="-1"></a>  <span class="fu">seize</span>(<span class="st">&quot;inr&quot;</span>, <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-34"><a href="operational-research.html#cb34-34" tabindex="-1"></a>  <span class="fu">timeout</span>(<span class="cf">function</span>() <span class="fu">rnorm</span>(<span class="dv">1</span>, <span class="dv">5</span>,<span class="dv">5</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb34-35"><a href="operational-research.html#cb34-35" tabindex="-1"></a>  <span class="fu">release</span>(<span class="st">&quot;inr&quot;</span>, <span class="dv">1</span>) </span>
<span id="cb34-36"><a href="operational-research.html#cb34-36" tabindex="-1"></a></span>
<span id="cb34-37"><a href="operational-research.html#cb34-37" tabindex="-1"></a>envs <span class="ot">&lt;-</span> <span class="fu">mclapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>, <span class="cf">function</span>(i) {</span>
<span id="cb34-38"><a href="operational-research.html#cb34-38" tabindex="-1"></a>  <span class="fu">simmer</span>(<span class="st">&quot;SuperDuperSim&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-39"><a href="operational-research.html#cb34-39" tabindex="-1"></a>    <span class="fu">add_resource</span>(<span class="st">&quot;ed nurse&quot;</span>, <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-40"><a href="operational-research.html#cb34-40" tabindex="-1"></a>    <span class="fu">add_resource</span>(<span class="st">&quot;stroke reg&quot;</span>, <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-41"><a href="operational-research.html#cb34-41" tabindex="-1"></a>    <span class="fu">add_resource</span>(<span class="st">&quot;CT scan&quot;</span>, <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-42"><a href="operational-research.html#cb34-42" tabindex="-1"></a>    <span class="fu">add_resource</span>(<span class="st">&quot;stroke consultant&quot;</span>, <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-43"><a href="operational-research.html#cb34-43" tabindex="-1"></a>    <span class="fu">add_resource</span>(<span class="st">&quot;inr&quot;</span>, <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-44"><a href="operational-research.html#cb34-44" tabindex="-1"></a>    <span class="fu">add_generator</span>(<span class="st">&quot;patient&quot;</span>, patient, <span class="cf">function</span>() <span class="fu">rnorm</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">2</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb34-45"><a href="operational-research.html#cb34-45" tabindex="-1"></a>    <span class="fu">run</span>(<span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-46"><a href="operational-research.html#cb34-46" tabindex="-1"></a>    <span class="fu">wrap</span>()</span>
<span id="cb34-47"><a href="operational-research.html#cb34-47" tabindex="-1"></a>})</span></code></pre></div>
<p>Plot patient flow</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="operational-research.html#cb35-1" tabindex="-1"></a><span class="fu">plot</span>(patient)</span></code></pre></div>
<div class="grViz html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-2abda4cf70fff570f11e" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-2abda4cf70fff570f11e">{"x":{"diagram":"digraph {\n\ngraph [layout = \"dot\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\"]\n\nnode [fontname = \"sans-serif\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"1.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"Seize\", shape = \"box\", style = \"filled\", color = \"#7FC97F\", tooltip = \"resource: ed nurse, amount: 1\", fontcolor = \"black\", fillcolor = \"#7FC97F\"] \n  \"2\" [label = \"Timeout\", shape = \"box\", style = \"solid\", color = \"black\", tooltip = \"delay: function()\", fontcolor = \"black\", fillcolor = \"#000000\"] \n  \"3\" [label = \"Release\", shape = \"box\", style = \"filled\", color = \"#7FC97F\", tooltip = \"resource: ed nurse, amount: 1\", fontcolor = \"black\", fillcolor = \"#7FC97F\"] \n  \"4\" [label = \"Seize\", shape = \"box\", style = \"filled\", color = \"#BEAED4\", tooltip = \"resource: stroke reg, amount: 1\", fontcolor = \"black\", fillcolor = \"#BEAED4\"] \n  \"5\" [label = \"Timeout\", shape = \"box\", style = \"solid\", color = \"black\", tooltip = \"delay: function()\", fontcolor = \"black\", fillcolor = \"#000000\"] \n  \"6\" [label = \"Release\", shape = \"box\", style = \"filled\", color = \"#BEAED4\", tooltip = \"resource: stroke reg, amount: 1\", fontcolor = \"black\", fillcolor = \"#BEAED4\"] \n  \"7\" [label = \"Seize\", shape = \"box\", style = \"filled\", color = \"#FDC086\", tooltip = \"resource: CT scan, amount: 1\", fontcolor = \"black\", fillcolor = \"#FDC086\"] \n  \"8\" [label = \"Timeout\", shape = \"box\", style = \"solid\", color = \"black\", tooltip = \"delay: function()\", fontcolor = \"black\", fillcolor = \"#000000\"] \n  \"9\" [label = \"Release\", shape = \"box\", style = \"filled\", color = \"#FDC086\", tooltip = \"resource: CT scan, amount: 1\", fontcolor = \"black\", fillcolor = \"#FDC086\"] \n  \"10\" [label = \"Seize\", shape = \"box\", style = \"filled\", color = \"#BEAED4\", tooltip = \"resource: stroke consultant, amount: 1\", fontcolor = \"black\", fillcolor = \"#BEAED4\"] \n  \"11\" [label = \"Timeout\", shape = \"box\", style = \"solid\", color = \"black\", tooltip = \"delay: function()\", fontcolor = \"black\", fillcolor = \"#000000\"] \n  \"12\" [label = \"Release\", shape = \"box\", style = \"filled\", color = \"#BEAED4\", tooltip = \"resource: stroke consultant, amount: 1\", fontcolor = \"black\", fillcolor = \"#BEAED4\"] \n  \"13\" [label = \"Seize\", shape = \"box\", style = \"filled\", color = \"#FFFF99\", tooltip = \"resource: inr, amount: 1\", fontcolor = \"black\", fillcolor = \"#FFFF99\"] \n  \"14\" [label = \"Timeout\", shape = \"box\", style = \"solid\", color = \"black\", tooltip = \"delay: function()\", fontcolor = \"black\", fillcolor = \"#000000\"] \n  \"15\" [label = \"Release\", shape = \"box\", style = \"filled\", color = \"#FFFF99\", tooltip = \"resource: inr, amount: 1\", fontcolor = \"black\", fillcolor = \"#FFFF99\"] \n\"1\"->\"2\" [color = \"black\", style = \"solid\"] \n\"2\"->\"3\" [color = \"black\", style = \"solid\"] \n\"3\"->\"4\" [color = \"black\", style = \"solid\"] \n\"4\"->\"5\" [color = \"black\", style = \"solid\"] \n\"5\"->\"6\" [color = \"black\", style = \"solid\"] \n\"6\"->\"7\" [color = \"black\", style = \"solid\"] \n\"7\"->\"8\" [color = \"black\", style = \"solid\"] \n\"8\"->\"9\" [color = \"black\", style = \"solid\"] \n\"9\"->\"10\" [color = \"black\", style = \"solid\"] \n\"10\"->\"11\" [color = \"black\", style = \"solid\"] \n\"11\"->\"12\" [color = \"black\", style = \"solid\"] \n\"12\"->\"13\" [color = \"black\", style = \"solid\"] \n\"13\"->\"14\" [color = \"black\", style = \"solid\"] \n\"14\"->\"15\" [color = \"black\", style = \"solid\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="operational-research.html#cb36-1" tabindex="-1"></a><span class="co">#plot.simmer</span></span>
<span id="cb36-2"><a href="operational-research.html#cb36-2" tabindex="-1"></a>resources <span class="ot">&lt;-</span> <span class="fu">get_mon_resources</span>(envs)</span>
<span id="cb36-3"><a href="operational-research.html#cb36-3" tabindex="-1"></a></span>
<span id="cb36-4"><a href="operational-research.html#cb36-4" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb36-5"><a href="operational-research.html#cb36-5" tabindex="-1"></a>p1<span class="ot">&lt;-</span><span class="fu">plot</span>(resources, <span class="at">metric =</span> <span class="st">&quot;usage&quot;</span>, </span>
<span id="cb36-6"><a href="operational-research.html#cb36-6" tabindex="-1"></a>         <span class="fu">c</span>(<span class="st">&quot;ed nurse&quot;</span>,<span class="st">&quot;stroke reg&quot;</span>,<span class="st">&quot;CT scan&quot;</span>, <span class="st">&quot;stroke                         consultant&quot;</span>,<span class="st">&quot;inr&quot;</span>), </span>
<span id="cb36-7"><a href="operational-research.html#cb36-7" tabindex="-1"></a>         <span class="at">items =</span> <span class="st">&quot;serve&quot;</span>)</span>
<span id="cb36-8"><a href="operational-research.html#cb36-8" tabindex="-1"></a></span>
<span id="cb36-9"><a href="operational-research.html#cb36-9" tabindex="-1"></a><span class="co">#resource usage</span></span>
<span id="cb36-10"><a href="operational-research.html#cb36-10" tabindex="-1"></a>p2<span class="ot">&lt;-</span><span class="fu">plot</span>(<span class="fu">get_mon_resources</span>(envs[[<span class="dv">6</span>]]), <span class="at">metric =</span> <span class="st">&quot;usage&quot;</span>, <span class="st">&quot;stroke consultant&quot;</span>, <span class="at">items =</span> <span class="st">&quot;server&quot;</span>, <span class="at">steps =</span> <span class="cn">TRUE</span>)</span>
<span id="cb36-11"><a href="operational-research.html#cb36-11" tabindex="-1"></a></span>
<span id="cb36-12"><a href="operational-research.html#cb36-12" tabindex="-1"></a><span class="co">#resource utilisation</span></span>
<span id="cb36-13"><a href="operational-research.html#cb36-13" tabindex="-1"></a>p3<span class="ot">&lt;-</span><span class="fu">plot</span>(resources, <span class="at">metric=</span><span class="st">&quot;utilization&quot;</span>, <span class="fu">c</span>(<span class="st">&quot;ed nurse&quot;</span>, <span class="st">&quot;stroke reg&quot;</span>,<span class="st">&quot;CT scan&quot;</span>))</span>
<span id="cb36-14"><a href="operational-research.html#cb36-14" tabindex="-1"></a></span>
<span id="cb36-15"><a href="operational-research.html#cb36-15" tabindex="-1"></a><span class="co">#Flow time evolution</span></span>
<span id="cb36-16"><a href="operational-research.html#cb36-16" tabindex="-1"></a>arrivals <span class="ot">&lt;-</span> <span class="fu">get_mon_arrivals</span>(envs)</span>
<span id="cb36-17"><a href="operational-research.html#cb36-17" tabindex="-1"></a>p4<span class="ot">&lt;-</span><span class="fu">plot</span>(arrivals, <span class="at">metric =</span> <span class="st">&quot;flow_time&quot;</span>)</span>
<span id="cb36-18"><a href="operational-research.html#cb36-18" tabindex="-1"></a></span>
<span id="cb36-19"><a href="operational-research.html#cb36-19" tabindex="-1"></a><span class="co">#combine plot</span></span>
<span id="cb36-20"><a href="operational-research.html#cb36-20" tabindex="-1"></a>gridExtra<span class="sc">::</span><span class="fu">grid.arrange</span>(p1,p2, p3,p4)</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula = &#39;y ~ x&#39;</code></pre>
<p><img src="Applications-of-R-in-Healthcare_files/figure-html/08-operational-research-4-2-1.png" width="672" /></p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="operational-research.html#cb38-1" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb38-2"><a href="operational-research.html#cb38-2" tabindex="-1"></a>activity<span class="ot">&lt;-</span><span class="fu">get_mon_arrivals</span>(envs)</span>
<span id="cb38-3"><a href="operational-research.html#cb38-3" tabindex="-1"></a></span>
<span id="cb38-4"><a href="operational-research.html#cb38-4" tabindex="-1"></a><span class="fu">plot</span>(activity,<span class="at">metric=</span><span class="st">&quot;activity_time&quot;</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula = &#39;y ~ x&#39;</code></pre>
<p><img src="Applications-of-R-in-Healthcare_files/figure-html/08-operational-research-4-3-1.png" width="672" /></p>
<p>Now we will fork another path in the patient flow</p>
</div>
<div id="queuing-network" class="section level3 hasAnchor" number="9.1.2">
<h3><span class="header-section-number">9.1.2</span> Queuing network<a href="operational-research.html#queuing-network" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="operational-research.html#cb40-1" tabindex="-1"></a>mean_pkt_size <span class="ot">&lt;-</span> <span class="dv">100</span>        <span class="co"># bytes</span></span>
<span id="cb40-2"><a href="operational-research.html#cb40-2" tabindex="-1"></a>lambda1 <span class="ot">&lt;-</span> <span class="dv">2</span>                <span class="co"># pkts/s</span></span>
<span id="cb40-3"><a href="operational-research.html#cb40-3" tabindex="-1"></a>lambda3 <span class="ot">&lt;-</span> <span class="fl">0.5</span>              <span class="co"># pkts/s</span></span>
<span id="cb40-4"><a href="operational-research.html#cb40-4" tabindex="-1"></a>lambda4 <span class="ot">&lt;-</span> <span class="fl">0.6</span>              <span class="co"># pkts/s</span></span>
<span id="cb40-5"><a href="operational-research.html#cb40-5" tabindex="-1"></a>rate <span class="ot">&lt;-</span> <span class="fl">2.2</span> <span class="sc">*</span> mean_pkt_size <span class="co"># bytes/s</span></span>
<span id="cb40-6"><a href="operational-research.html#cb40-6" tabindex="-1"></a></span>
<span id="cb40-7"><a href="operational-research.html#cb40-7" tabindex="-1"></a><span class="co"># set an exponential message size of mean mean_pkt_size</span></span>
<span id="cb40-8"><a href="operational-research.html#cb40-8" tabindex="-1"></a>set_msg_size <span class="ot">&lt;-</span> <span class="cf">function</span>(.)</span>
<span id="cb40-9"><a href="operational-research.html#cb40-9" tabindex="-1"></a>  <span class="fu">set_attribute</span>(., <span class="st">&quot;size&quot;</span>, <span class="cf">function</span>() <span class="fu">rexp</span>(<span class="dv">1</span>, <span class="dv">1</span><span class="sc">/</span>mean_pkt_size))</span>
<span id="cb40-10"><a href="operational-research.html#cb40-10" tabindex="-1"></a></span>
<span id="cb40-11"><a href="operational-research.html#cb40-11" tabindex="-1"></a><span class="co"># seize an M/D/1 queue by id; the timeout is function of the message size</span></span>
<span id="cb40-12"><a href="operational-research.html#cb40-12" tabindex="-1"></a>md1 <span class="ot">&lt;-</span> <span class="cf">function</span>(., id)</span>
<span id="cb40-13"><a href="operational-research.html#cb40-13" tabindex="-1"></a>  <span class="fu">seize</span>(., <span class="fu">paste0</span>(<span class="st">&quot;md1_&quot;</span>, id), <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-14"><a href="operational-research.html#cb40-14" tabindex="-1"></a>  <span class="fu">timeout</span>(<span class="cf">function</span>() <span class="fu">get_attribute</span>(env, <span class="st">&quot;size&quot;</span>) <span class="sc">/</span> rate) <span class="sc">%&gt;%</span></span>
<span id="cb40-15"><a href="operational-research.html#cb40-15" tabindex="-1"></a>  <span class="fu">release</span>(<span class="fu">paste0</span>(<span class="st">&quot;md1_&quot;</span>, id), <span class="dv">1</span>)</span></code></pre></div>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="operational-research.html#cb41-1" tabindex="-1"></a>to_queue_1 <span class="ot">&lt;-</span> <span class="fu">trajectory</span>() <span class="sc">%&gt;%</span></span>
<span id="cb41-2"><a href="operational-research.html#cb41-2" tabindex="-1"></a>  <span class="fu">set_msg_size</span>() <span class="sc">%&gt;%</span></span>
<span id="cb41-3"><a href="operational-research.html#cb41-3" tabindex="-1"></a>  <span class="fu">md1</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-4"><a href="operational-research.html#cb41-4" tabindex="-1"></a>  <span class="fu">leave</span>(<span class="fl">0.25</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-5"><a href="operational-research.html#cb41-5" tabindex="-1"></a>  <span class="fu">md1</span>(<span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-6"><a href="operational-research.html#cb41-6" tabindex="-1"></a>  <span class="fu">branch</span>(</span>
<span id="cb41-7"><a href="operational-research.html#cb41-7" tabindex="-1"></a>    <span class="cf">function</span>() (<span class="fu">runif</span>(<span class="dv">1</span>) <span class="sc">&gt;</span> <span class="fl">0.65</span>) <span class="sc">+</span> <span class="dv">1</span>, <span class="at">continue=</span><span class="fu">c</span>(F, F),</span>
<span id="cb41-8"><a href="operational-research.html#cb41-8" tabindex="-1"></a>    <span class="fu">trajectory</span>() <span class="sc">%&gt;%</span> <span class="fu">md1</span>(<span class="dv">3</span>),</span>
<span id="cb41-9"><a href="operational-research.html#cb41-9" tabindex="-1"></a>    <span class="fu">trajectory</span>() <span class="sc">%&gt;%</span> <span class="fu">md1</span>(<span class="dv">4</span>)</span>
<span id="cb41-10"><a href="operational-research.html#cb41-10" tabindex="-1"></a>  )</span>
<span id="cb41-11"><a href="operational-research.html#cb41-11" tabindex="-1"></a></span>
<span id="cb41-12"><a href="operational-research.html#cb41-12" tabindex="-1"></a>to_queue_3 <span class="ot">&lt;-</span> <span class="fu">trajectory</span>() <span class="sc">%&gt;%</span></span>
<span id="cb41-13"><a href="operational-research.html#cb41-13" tabindex="-1"></a>  <span class="fu">set_msg_size</span>() <span class="sc">%&gt;%</span></span>
<span id="cb41-14"><a href="operational-research.html#cb41-14" tabindex="-1"></a>  <span class="fu">md1</span>(<span class="dv">3</span>)</span>
<span id="cb41-15"><a href="operational-research.html#cb41-15" tabindex="-1"></a></span>
<span id="cb41-16"><a href="operational-research.html#cb41-16" tabindex="-1"></a>to_queue_4 <span class="ot">&lt;-</span> <span class="fu">trajectory</span>() <span class="sc">%&gt;%</span></span>
<span id="cb41-17"><a href="operational-research.html#cb41-17" tabindex="-1"></a>  <span class="fu">set_msg_size</span>() <span class="sc">%&gt;%</span></span>
<span id="cb41-18"><a href="operational-research.html#cb41-18" tabindex="-1"></a>  <span class="fu">md1</span>(<span class="dv">4</span>)</span></code></pre></div>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="operational-research.html#cb42-1" tabindex="-1"></a>env <span class="ot">&lt;-</span> <span class="fu">simmer</span>()</span>
<span id="cb42-2"><a href="operational-research.html#cb42-2" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) env <span class="sc">%&gt;%</span> </span>
<span id="cb42-3"><a href="operational-research.html#cb42-3" tabindex="-1"></a>  <span class="fu">add_resource</span>(<span class="fu">paste0</span>(<span class="st">&quot;md1_&quot;</span>, i))</span>
<span id="cb42-4"><a href="operational-research.html#cb42-4" tabindex="-1"></a>env <span class="sc">%&gt;%</span></span>
<span id="cb42-5"><a href="operational-research.html#cb42-5" tabindex="-1"></a>  <span class="fu">add_generator</span>(<span class="st">&quot;arrival1_&quot;</span>, to_queue_1, <span class="cf">function</span>() <span class="fu">rexp</span>(<span class="dv">1</span>, lambda1), <span class="at">mon=</span><span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-6"><a href="operational-research.html#cb42-6" tabindex="-1"></a>  <span class="fu">add_generator</span>(<span class="st">&quot;arrival3_&quot;</span>, to_queue_3, <span class="cf">function</span>() <span class="fu">rexp</span>(<span class="dv">1</span>, lambda3), <span class="at">mon=</span><span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-7"><a href="operational-research.html#cb42-7" tabindex="-1"></a>  <span class="fu">add_generator</span>(<span class="st">&quot;arrival4_&quot;</span>, to_queue_4, <span class="cf">function</span>() <span class="fu">rexp</span>(<span class="dv">1</span>, lambda4), <span class="at">mon=</span><span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-8"><a href="operational-research.html#cb42-8" tabindex="-1"></a>  <span class="fu">run</span>(<span class="dv">4000</span>)</span></code></pre></div>
<pre><code>## simmer environment: anonymous | now: 4000 | next: 4000.01785654125
## { Monitor: in memory }
## { Resource: md1_1 | monitored: TRUE | server status: 1(1) | queue status: 15(Inf) }
## { Resource: md1_2 | monitored: TRUE | server status: 1(1) | queue status: 1(Inf) }
## { Resource: md1_3 | monitored: TRUE | server status: 1(1) | queue status: 0(Inf) }
## { Resource: md1_4 | monitored: TRUE | server status: 0(1) | queue status: 0(Inf) }
## { Source: arrival1_ | monitored: 2 | n_generated: 8023 }
## { Source: arrival3_ | monitored: 2 | n_generated: 2031 }
## { Source: arrival4_ | monitored: 2 | n_generated: 2399 }</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="operational-research.html#cb44-1" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">get_mon_arrivals</span>(env, <span class="at">per_resource =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb44-2"><a href="operational-research.html#cb44-2" tabindex="-1"></a>  <span class="fu">subset</span>(resource <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;md1_3&quot;</span>, <span class="st">&quot;md1_4&quot;</span>), <span class="at">select=</span><span class="fu">c</span>(<span class="st">&quot;name&quot;</span>, <span class="st">&quot;resource&quot;</span>))</span>
<span id="cb44-3"><a href="operational-research.html#cb44-3" tabindex="-1"></a></span>
<span id="cb44-4"><a href="operational-research.html#cb44-4" tabindex="-1"></a>arr <span class="ot">&lt;-</span> <span class="fu">get_mon_arrivals</span>(env) <span class="sc">%&gt;%</span></span>
<span id="cb44-5"><a href="operational-research.html#cb44-5" tabindex="-1"></a>  <span class="fu">transform</span>(<span class="at">waiting_time =</span> end_time <span class="sc">-</span> (start_time <span class="sc">+</span> activity_time)) <span class="sc">%&gt;%</span></span>
<span id="cb44-6"><a href="operational-research.html#cb44-6" tabindex="-1"></a>  <span class="fu">transform</span>(<span class="at">generator =</span> <span class="fu">regmatches</span>(name, <span class="fu">regexpr</span>(<span class="st">&quot;arrival[[:digit:]]&quot;</span>, name))) <span class="sc">%&gt;%</span></span>
<span id="cb44-7"><a href="operational-research.html#cb44-7" tabindex="-1"></a>  <span class="fu">merge</span>(res)</span>
<span id="cb44-8"><a href="operational-research.html#cb44-8" tabindex="-1"></a></span>
<span id="cb44-9"><a href="operational-research.html#cb44-9" tabindex="-1"></a><span class="fu">aggregate</span>(waiting_time <span class="sc">~</span> generator <span class="sc">+</span> resource, arr, <span class="cf">function</span>(x) <span class="fu">sum</span>(x)<span class="sc">/</span><span class="fu">length</span>(x))</span></code></pre></div>
<pre><code>##   generator resource waiting_time
## 1  arrival1    md1_3    6.8729025
## 2  arrival3    md1_3    0.8427541
## 3  arrival1    md1_4    6.7479945
## 4  arrival4    md1_4    0.4598295</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="operational-research.html#cb46-1" tabindex="-1"></a><span class="fu">get_n_generated</span>(env, <span class="st">&quot;arrival1_&quot;</span>) <span class="sc">+</span> <span class="fu">get_n_generated</span>(env, <span class="st">&quot;arrival4_&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 10422</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="operational-research.html#cb48-1" tabindex="-1"></a><span class="fu">aggregate</span>(waiting_time <span class="sc">~</span> generator <span class="sc">+</span> resource, arr, length)</span></code></pre></div>
<pre><code>##   generator resource waiting_time
## 1  arrival1    md1_3         3824
## 2  arrival3    md1_3         2030
## 3  arrival1    md1_4         2188
## 4  arrival4    md1_4         2398</code></pre>
</div>
</div>
<div id="linear-programming" class="section level2 hasAnchor" number="9.2">
<h2><span class="header-section-number">9.2</span> Linear Programming<a href="operational-research.html#linear-programming" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Linear programming is an optimisation process to maximise profit and minimise cost with multiple parts of the model having linear relationship. There are several different libraries useful for linear programming. The <em>lpSolve</em> library is used here as illustration.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="operational-research.html#cb50-1" tabindex="-1"></a><span class="fu">library</span>(lpSolve)</span>
<span id="cb50-2"><a href="operational-research.html#cb50-2" tabindex="-1"></a></span>
<span id="cb50-3"><a href="operational-research.html#cb50-3" tabindex="-1"></a><span class="co">#solve using linear programming</span></span>
<span id="cb50-4"><a href="operational-research.html#cb50-4" tabindex="-1"></a>n <span class="ot">&lt;-</span><span class="fl">2.5</span> <span class="co"># Numbers of techs. 1 EFT means a person is employed for 40 hours a week and 0.5 EFT means a person is employed for 20 hours a week.</span></span>
<span id="cb50-5"><a href="operational-research.html#cb50-5" tabindex="-1"></a>set_up_eeg <span class="ot">&lt;-</span> <span class="dv">40</span> <span class="co"># 40 minutes</span></span>
<span id="cb50-6"><a href="operational-research.html#cb50-6" tabindex="-1"></a>to_do_eeg <span class="ot">&lt;-</span> <span class="dv">30</span> <span class="co"># 30 minutes</span></span>
<span id="cb50-7"><a href="operational-research.html#cb50-7" tabindex="-1"></a>clean_equipment <span class="ot">&lt;-</span> <span class="dv">20</span> <span class="co"># 20 minutes</span></span>
<span id="cb50-8"><a href="operational-research.html#cb50-8" tabindex="-1"></a>annotate_eeg <span class="ot">&lt;-</span> <span class="dv">10</span> <span class="co"># 10 minutes</span></span>
<span id="cb50-9"><a href="operational-research.html#cb50-9" tabindex="-1"></a></span>
<span id="cb50-10"><a href="operational-research.html#cb50-10" tabindex="-1"></a><span class="co"># put some error for EEG time</span></span>
<span id="cb50-11"><a href="operational-research.html#cb50-11" tabindex="-1"></a><span class="co"># if error=1 that mean NO errors happen</span></span>
<span id="cb50-12"><a href="operational-research.html#cb50-12" tabindex="-1"></a>error <span class="ot">&lt;-</span> <span class="fl">0.8</span> <span class="co">#change from 0.93</span></span>
<span id="cb50-13"><a href="operational-research.html#cb50-13" tabindex="-1"></a></span>
<span id="cb50-14"><a href="operational-research.html#cb50-14" tabindex="-1"></a><span class="co">#Calculate time for EEG in hour</span></span>
<span id="cb50-15"><a href="operational-research.html#cb50-15" tabindex="-1"></a>eeg_case_time <span class="ot">&lt;-</span> ((set_up_eeg<span class="sc">+</span>to_do_eeg<span class="sc">+</span>clean_equipment<span class="sc">+</span>annotate_eeg)<span class="sc">/</span><span class="dv">60</span>)<span class="sc">*</span>error</span>
<span id="cb50-16"><a href="operational-research.html#cb50-16" tabindex="-1"></a></span>
<span id="cb50-17"><a href="operational-research.html#cb50-17" tabindex="-1"></a><span class="co"># limit for EEG per day</span></span>
<span id="cb50-18"><a href="operational-research.html#cb50-18" tabindex="-1"></a><span class="co"># we can put different limits for EEGs</span></span>
<span id="cb50-19"><a href="operational-research.html#cb50-19" tabindex="-1"></a>limit_eeg <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="dv">8</span><span class="sc">*</span>eeg_case_time, <span class="at">digits =</span> <span class="dv">0</span>)</span>
<span id="cb50-20"><a href="operational-research.html#cb50-20" tabindex="-1"></a></span>
<span id="cb50-21"><a href="operational-research.html#cb50-21" tabindex="-1"></a><span class="co">#s[i] - numbers of cases for each i-EEG&#39;s machines </span></span>
<span id="cb50-22"><a href="operational-research.html#cb50-22" tabindex="-1"></a><span class="co">#Setting the coefficients of s[i]-decision variables</span></span>
<span id="cb50-23"><a href="operational-research.html#cb50-23" tabindex="-1"></a><span class="co">#In a future can put some efficiency or some cost</span></span>
<span id="cb50-24"><a href="operational-research.html#cb50-24" tabindex="-1"></a>objective.in<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb50-25"><a href="operational-research.html#cb50-25" tabindex="-1"></a></span>
<span id="cb50-26"><a href="operational-research.html#cb50-26" tabindex="-1"></a><span class="co">#Constraint Matrix</span></span>
<span id="cb50-27"><a href="operational-research.html#cb50-27" tabindex="-1"></a>const.mat<span class="ot">=</span><span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,</span>
<span id="cb50-28"><a href="operational-research.html#cb50-28" tabindex="-1"></a>                   <span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,</span>
<span id="cb50-29"><a href="operational-research.html#cb50-29" tabindex="-1"></a>                   <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,</span>
<span id="cb50-30"><a href="operational-research.html#cb50-30" tabindex="-1"></a>                   <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,</span>
<span id="cb50-31"><a href="operational-research.html#cb50-31" tabindex="-1"></a>                   <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,</span>
<span id="cb50-32"><a href="operational-research.html#cb50-32" tabindex="-1"></a>                   <span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>),<span class="at">nrow =</span> <span class="dv">6</span>,<span class="at">byrow =</span> T)</span>
<span id="cb50-33"><a href="operational-research.html#cb50-33" tabindex="-1"></a></span>
<span id="cb50-34"><a href="operational-research.html#cb50-34" tabindex="-1"></a><span class="co">#defining constraints</span></span>
<span id="cb50-35"><a href="operational-research.html#cb50-35" tabindex="-1"></a>const_num_1<span class="ot">=</span>limit_eeg  <span class="co">#in cases</span></span>
<span id="cb50-36"><a href="operational-research.html#cb50-36" tabindex="-1"></a>const_num_2<span class="ot">=</span>limit_eeg  <span class="co">#in cases</span></span>
<span id="cb50-37"><a href="operational-research.html#cb50-37" tabindex="-1"></a>const_num_3<span class="ot">=</span>limit_eeg  <span class="co">#in cases</span></span>
<span id="cb50-38"><a href="operational-research.html#cb50-38" tabindex="-1"></a>const_num_4<span class="ot">=</span>limit_eeg  <span class="co">#in cases</span></span>
<span id="cb50-39"><a href="operational-research.html#cb50-39" tabindex="-1"></a>const_num_5<span class="ot">=</span>limit_eeg  <span class="co">#in cases</span></span>
<span id="cb50-40"><a href="operational-research.html#cb50-40" tabindex="-1"></a>const_res<span class="ot">=</span> n<span class="sc">*</span><span class="dv">7</span> <span class="co"># limit per sessions</span></span>
<span id="cb50-41"><a href="operational-research.html#cb50-41" tabindex="-1"></a></span>
<span id="cb50-42"><a href="operational-research.html#cb50-42" tabindex="-1"></a><span class="co">#RHS for constraints</span></span>
<span id="cb50-43"><a href="operational-research.html#cb50-43" tabindex="-1"></a>const.rhs<span class="ot">=</span><span class="fu">c</span>(const_num_1,const_num_2,const_num_3,const_num_4,const_num_5, const_res)</span>
<span id="cb50-44"><a href="operational-research.html#cb50-44" tabindex="-1"></a></span>
<span id="cb50-45"><a href="operational-research.html#cb50-45" tabindex="-1"></a><span class="co">#Direction for constraints</span></span>
<span id="cb50-46"><a href="operational-research.html#cb50-46" tabindex="-1"></a>constr.dir <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">&quot;&lt;=&quot;</span>,<span class="dv">6</span>)</span>
<span id="cb50-47"><a href="operational-research.html#cb50-47" tabindex="-1"></a></span>
<span id="cb50-48"><a href="operational-research.html#cb50-48" tabindex="-1"></a><span class="co">#Finding the optimum solution</span></span>
<span id="cb50-49"><a href="operational-research.html#cb50-49" tabindex="-1"></a>opt<span class="ot">=</span><span class="fu">lp</span>(<span class="at">direction =</span> <span class="st">&quot;max&quot;</span>,objective.in,const.mat,constr.dir,const.rhs)</span>
<span id="cb50-50"><a href="operational-research.html#cb50-50" tabindex="-1"></a><span class="co">#summary(opt)</span></span>
<span id="cb50-51"><a href="operational-research.html#cb50-51" tabindex="-1"></a></span>
<span id="cb50-52"><a href="operational-research.html#cb50-52" tabindex="-1"></a><span class="co">#Objective values of s[i]</span></span>
<span id="cb50-53"><a href="operational-research.html#cb50-53" tabindex="-1"></a></span>
<span id="cb50-54"><a href="operational-research.html#cb50-54" tabindex="-1"></a>opt<span class="sc">$</span>solution </span></code></pre></div>
<pre><code>## [1] 11.0  6.5  0.0  0.0  0.0</code></pre>
<p>Estimate for day (Value of objective function at optimal point)</p>
<pre><code>## [1] 17.5</code></pre>
<p>Estimate EEG per month based on staff EFT- only 2.5</p>
<pre><code>## [1] 366</code></pre>
<p>Assuming that the time spend on a report by neurologists (1 report = 30 min) then in a 3.5 hour session a neurologist can report 7 EEG.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="operational-research.html#cb54-1" tabindex="-1"></a>neurologist_session<span class="ot">=</span>estimate_week<span class="sc">/</span><span class="dv">7</span></span>
<span id="cb54-2"><a href="operational-research.html#cb54-2" tabindex="-1"></a></span>
<span id="cb54-3"><a href="operational-research.html#cb54-3" tabindex="-1"></a>neurologist_session</span></code></pre></div>
<pre><code>## [1] 13.07143</code></pre>
</div>
<div id="forecasting" class="section level2 hasAnchor" number="9.3">
<h2><span class="header-section-number">9.3</span> Forecasting<a href="operational-research.html#forecasting" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Forecasting is useful in predicting trends. In health care it can be used for estimating seasonal trends and bed requirement. Below is a forecast of mortality from COVID-19 in 2020. This forecast is an example and is not meant to be used in practice as mortality from COVID depends on the number of factors including infected cases, age, socioeconomic group, and comorbidity.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="operational-research.html#cb56-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<pre><code>## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
## ✔ dplyr     1.1.2     ✔ readr     2.1.4
## ✔ forcats   1.0.0     ✔ stringr   1.5.0
## ✔ lubridate 1.9.2     ✔ tibble    3.2.1
## ✔ purrr     1.0.1     ✔ tidyr     1.3.0
## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter()       masks stats::filter()
## ✖ dplyr::lag()          masks stats::lag()
## ✖ lubridate::now()      masks simmer::now()
## ✖ lubridate::rollback() masks simmer::rollback()
## ✖ dplyr::select()       masks simmer::select()
## ✖ tidyr::separate()     masks simmer::separate()
## ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="operational-research.html#cb58-1" tabindex="-1"></a><span class="fu">library</span>(prophet)</span></code></pre></div>
<pre><code>## Loading required package: Rcpp
## Loading required package: rlang
## 
## Attaching package: &#39;rlang&#39;
## 
## The following objects are masked from &#39;package:purrr&#39;:
## 
##     %@%, flatten, flatten_chr, flatten_dbl, flatten_int, flatten_lgl,
##     flatten_raw, invoke, splice</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="operational-research.html#cb60-1" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes)</span>
<span id="cb60-2"><a href="operational-research.html#cb60-2" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb60-3"><a href="operational-research.html#cb60-3" tabindex="-1"></a><span class="fu">library</span>(readr) <span class="co">#use read_csv to read csv rather than base R</span></span>
<span id="cb60-4"><a href="operational-research.html#cb60-4" tabindex="-1"></a></span>
<span id="cb60-5"><a href="operational-research.html#cb60-5" tabindex="-1"></a>covid<span class="ot">&lt;-</span><span class="fu">read_csv</span>(<span class="st">&quot;./Data-Use/Covid_Table100420.csv&quot;</span>) </span></code></pre></div>
<pre><code>## New names:
## Rows: 27 Columns: 12
## ── Column specification
## ──────────────────────────────────────────────────────── Delimiter: &quot;,&quot; dbl
## (8): ...1, Year, Week, COVID-19 Deaths...6, Pneumonia Deaths*...8, Infl... num
## (3): Total Deaths, COVID-19 Deaths...5, Pneumonia Deaths*...7 date (1): Date
## ℹ Use `spec()` to retrieve the full column specification for this data. ℹ
## Specify the column types or set `show_col_types = FALSE` to quiet this message.
## • `` -&gt; `...1`
## • `COVID-19 Deaths` -&gt; `COVID-19 Deaths...5`
## • `COVID-19 Deaths` -&gt; `COVID-19 Deaths...6`
## • `Pneumonia Deaths*` -&gt; `Pneumonia Deaths*...7`
## • `Pneumonia Deaths*` -&gt; `Pneumonia Deaths*...8`
## • `Influenza Deaths` -&gt; `Influenza Deaths...9`
## • `Influenza Deaths` -&gt; `Influenza Deaths...10`</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="operational-research.html#cb62-1" tabindex="-1"></a><span class="fu">colnames</span>(covid)</span></code></pre></div>
<pre><code>##  [1] &quot;...1&quot;                  &quot;Year&quot;                  &quot;Week&quot;                 
##  [4] &quot;Total Deaths&quot;          &quot;COVID-19 Deaths...5&quot;   &quot;COVID-19 Deaths...6&quot;  
##  [7] &quot;Pneumonia Deaths*...7&quot; &quot;Pneumonia Deaths*...8&quot; &quot;Influenza Deaths...9&quot; 
## [10] &quot;Influenza Deaths...10&quot; &quot;Total.Deaths&quot;          &quot;Date&quot;</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="operational-research.html#cb64-1" tabindex="-1"></a><span class="co"># A data frame with columns ds &amp; y (datetimes &amp; metrics)</span></span>
<span id="cb64-2"><a href="operational-research.html#cb64-2" tabindex="-1"></a>covid<span class="ot">&lt;-</span><span class="fu">rename</span>(covid, <span class="at">ds =</span>Date, <span class="at">y=</span>Total.Deaths)</span>
<span id="cb64-3"><a href="operational-research.html#cb64-3" tabindex="-1"></a>covid2 <span class="ot">&lt;-</span> covid[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>),]</span>
<span id="cb64-4"><a href="operational-research.html#cb64-4" tabindex="-1"></a></span>
<span id="cb64-5"><a href="operational-research.html#cb64-5" tabindex="-1"></a>m<span class="ot">&lt;-</span><span class="fu">prophet</span>(covid2)<span class="co">#create prophet object</span></span></code></pre></div>
<pre><code>## Disabling yearly seasonality. Run prophet with yearly.seasonality=TRUE to override this.
## Disabling weekly seasonality. Run prophet with weekly.seasonality=TRUE to override this.
## Disabling daily seasonality. Run prophet with daily.seasonality=TRUE to override this.
## n.changepoints greater than number of observations. Using 8</code></pre>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="operational-research.html#cb66-1" tabindex="-1"></a><span class="co"># Extend dataframe 12 weeks into the future</span></span>
<span id="cb66-2"><a href="operational-research.html#cb66-2" tabindex="-1"></a>future <span class="ot">&lt;-</span> <span class="fu">make_future_dataframe</span>(m, <span class="at">freq=</span><span class="st">&quot;week&quot;</span> , <span class="at">periods =</span> <span class="dv">26</span>)</span>
<span id="cb66-3"><a href="operational-research.html#cb66-3" tabindex="-1"></a><span class="co"># Generate forecast for next 500 days</span></span>
<span id="cb66-4"><a href="operational-research.html#cb66-4" tabindex="-1"></a>forecast <span class="ot">&lt;-</span> <span class="fu">predict</span>(m, future)</span>
<span id="cb66-5"><a href="operational-research.html#cb66-5" tabindex="-1"></a></span>
<span id="cb66-6"><a href="operational-research.html#cb66-6" tabindex="-1"></a><span class="co"># What&#39;s the forecast for July 2020?</span></span>
<span id="cb66-7"><a href="operational-research.html#cb66-7" tabindex="-1"></a>forecasted_rides <span class="ot">&lt;-</span> forecast <span class="sc">%&gt;%</span></span>
<span id="cb66-8"><a href="operational-research.html#cb66-8" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(ds)) <span class="sc">%&gt;%</span></span>
<span id="cb66-9"><a href="operational-research.html#cb66-9" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb66-10"><a href="operational-research.html#cb66-10" tabindex="-1"></a>  <span class="fu">pull</span>(yhat) <span class="sc">%&gt;%</span></span>
<span id="cb66-11"><a href="operational-research.html#cb66-11" tabindex="-1"></a>  <span class="fu">round</span>()</span>
<span id="cb66-12"><a href="operational-research.html#cb66-12" tabindex="-1"></a>forecasted_rides</span></code></pre></div>
<pre><code>## [1] 67488</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="operational-research.html#cb68-1" tabindex="-1"></a><span class="co"># Visualize</span></span>
<span id="cb68-2"><a href="operational-research.html#cb68-2" tabindex="-1"></a>forecast_p <span class="ot">&lt;-</span> <span class="fu">plot</span>(m, forecast) <span class="sc">+</span> </span>
<span id="cb68-3"><a href="operational-research.html#cb68-3" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;&quot;</span>, </span>
<span id="cb68-4"><a href="operational-research.html#cb68-4" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;mortality&quot;</span>, </span>
<span id="cb68-5"><a href="operational-research.html#cb68-5" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;Projected COVID-19 world mortality&quot;</span>, </span>
<span id="cb68-6"><a href="operational-research.html#cb68-6" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;based on data truncated in January 2020&quot;</span>) <span class="sc">+</span></span>
<span id="cb68-7"><a href="operational-research.html#cb68-7" tabindex="-1"></a>        <span class="fu">ylim</span>(<span class="dv">20000</span>,<span class="dv">80000</span>)<span class="sc">+</span></span>
<span id="cb68-8"><a href="operational-research.html#cb68-8" tabindex="-1"></a>  <span class="fu">theme_ipsum_rc</span>()</span>
<span id="cb68-9"><a href="operational-research.html#cb68-9" tabindex="-1"></a><span class="co">#forecast_p</span></span></code></pre></div>
<div id="bed-requirement" class="section level3 hasAnchor" number="9.3.1">
<h3><span class="header-section-number">9.3.1</span> Bed requirement<a href="operational-research.html#bed-requirement" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="length-of-stay" class="section level3 hasAnchor" number="9.3.2">
<h3><span class="header-section-number">9.3.2</span> Length of stay<a href="operational-research.html#length-of-stay" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="customer-churns" class="section level3 hasAnchor" number="9.3.3">
<h3><span class="header-section-number">9.3.3</span> Customer churns<a href="operational-research.html#customer-churns" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Customer churns or turnover is an issue of interest in marketing. The corollary within healthcare is patients attendance at outpatient clinics, Insurance. The classical method used is GLM.</p>
</div>
</div>
<div id="process-mapping" class="section level2 hasAnchor" number="9.4">
<h2><span class="header-section-number">9.4</span> Process mapping<a href="operational-research.html#process-mapping" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="operational-research.html#cb69-1" tabindex="-1"></a><span class="fu">library</span>(DiagrammeR)</span>
<span id="cb69-2"><a href="operational-research.html#cb69-2" tabindex="-1"></a>a.plot<span class="ot">&lt;-</span><span class="fu">mermaid</span>(<span class="st">&quot;</span></span>
<span id="cb69-3"><a href="operational-research.html#cb69-3" tabindex="-1"></a><span class="st">        graph TB</span></span>
<span id="cb69-4"><a href="operational-research.html#cb69-4" tabindex="-1"></a><span class="st">        </span></span>
<span id="cb69-5"><a href="operational-research.html#cb69-5" tabindex="-1"></a><span class="st">        A((Triage))</span></span>
<span id="cb69-6"><a href="operational-research.html#cb69-6" tabindex="-1"></a><span class="st">        A--&gt;|2.3 hr|B(Imaging-No Stroke Code)</span></span>
<span id="cb69-7"><a href="operational-research.html#cb69-7" tabindex="-1"></a><span class="st">        A--&gt;|0.6 hr|B1(Imaging-Stroke Code)</span></span>
<span id="cb69-8"><a href="operational-research.html#cb69-8" tabindex="-1"></a><span class="st">        </span></span>
<span id="cb69-9"><a href="operational-research.html#cb69-9" tabindex="-1"></a><span class="st">        B--&gt;|14.6 hr|B2(Dysphagia Screen)</span></span>
<span id="cb69-10"><a href="operational-research.html#cb69-10" tabindex="-1"></a><span class="st">        B1--&gt;|no TPA 10.7 hr|B2(Dysphagia Screen)</span></span>
<span id="cb69-11"><a href="operational-research.html#cb69-11" tabindex="-1"></a></span>
<span id="cb69-12"><a href="operational-research.html#cb69-12" tabindex="-1"></a><span class="st">        C(Stop NBM)</span></span>
<span id="cb69-13"><a href="operational-research.html#cb69-13" tabindex="-1"></a><span class="st">        B2--&gt;|0 hr|C</span></span>
<span id="cb69-14"><a href="operational-research.html#cb69-14" tabindex="-1"></a><span class="st">      </span></span>
<span id="cb69-15"><a href="operational-research.html#cb69-15" tabindex="-1"></a><span class="st">        C--&gt;|Oral route 1.7 hr|E{Antithrombotics}</span></span>
<span id="cb69-16"><a href="operational-research.html#cb69-16" tabindex="-1"></a><span class="st">        </span></span>
<span id="cb69-17"><a href="operational-research.html#cb69-17" tabindex="-1"></a><span class="st">        D1--&gt;|7.5 hr|E</span></span>
<span id="cb69-18"><a href="operational-research.html#cb69-18" tabindex="-1"></a><span class="st">        B--&gt;|PR route 6.8 hr|E</span></span>
<span id="cb69-19"><a href="operational-research.html#cb69-19" tabindex="-1"></a><span class="st">        B1--&gt;|PR route 3.8 hr|E</span></span>
<span id="cb69-20"><a href="operational-research.html#cb69-20" tabindex="-1"></a><span class="st">    </span></span>
<span id="cb69-21"><a href="operational-research.html#cb69-21" tabindex="-1"></a><span class="st">        B1--&gt;|TPA 24.7 hr|D1(Post TPA Scan)</span></span>
<span id="cb69-22"><a href="operational-research.html#cb69-22" tabindex="-1"></a><span class="st">    </span></span>
<span id="cb69-23"><a href="operational-research.html#cb69-23" tabindex="-1"></a><span class="st">        style A fill:#ADF, stroke:#333, stroke-width:2px</span></span>
<span id="cb69-24"><a href="operational-research.html#cb69-24" tabindex="-1"></a><span class="st">        style B fill:#9AA, stroke:#333, stroke-width:2px</span></span>
<span id="cb69-25"><a href="operational-research.html#cb69-25" tabindex="-1"></a><span class="st">        style B2 fill:#9AA, stroke:#333, stroke-width:2px</span></span>
<span id="cb69-26"><a href="operational-research.html#cb69-26" tabindex="-1"></a><span class="st">        style B1 fill:#879, stroke:#333, stroke-width:2px</span></span>
<span id="cb69-27"><a href="operational-research.html#cb69-27" tabindex="-1"></a><span class="st">        style C fill:#9AA, stroke:#333, stroke-width:2px</span></span>
<span id="cb69-28"><a href="operational-research.html#cb69-28" tabindex="-1"></a><span class="st">        style D1 fill:#879, stroke:#333, stroke-width:2px</span></span>
<span id="cb69-29"><a href="operational-research.html#cb69-29" tabindex="-1"></a><span class="st">        style E fill:#9C2, stroke:#9C2, stroke-width:2px</span></span>
<span id="cb69-30"><a href="operational-research.html#cb69-30" tabindex="-1"></a><span class="st">        &quot;</span>) </span>
<span id="cb69-31"><a href="operational-research.html#cb69-31" tabindex="-1"></a>a.plot</span></code></pre></div>
<div class="DiagrammeR html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-a15ddf05d5255e0553fb" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-a15ddf05d5255e0553fb">{"x":{"diagram":"\n        graph TB\n        \n        A((Triage))\n        A-->|2.3 hr|B(Imaging-No Stroke Code)\n        A-->|0.6 hr|B1(Imaging-Stroke Code)\n        \n        B-->|14.6 hr|B2(Dysphagia Screen)\n        B1-->|no TPA 10.7 hr|B2(Dysphagia Screen)\n\n        C(Stop NBM)\n        B2-->|0 hr|C\n      \n        C-->|Oral route 1.7 hr|E{Antithrombotics}\n        \n        D1-->|7.5 hr|E\n        B-->|PR route 6.8 hr|E\n        B1-->|PR route 3.8 hr|E\n    \n        B1-->|TPA 24.7 hr|D1(Post TPA Scan)\n    \n        style A fill:#ADF, stroke:#333, stroke-width:2px\n        style B fill:#9AA, stroke:#333, stroke-width:2px\n        style B2 fill:#9AA, stroke:#333, stroke-width:2px\n        style B1 fill:#879, stroke:#333, stroke-width:2px\n        style C fill:#9AA, stroke:#333, stroke-width:2px\n        style D1 fill:#879, stroke:#333, stroke-width:2px\n        style E fill:#9C2, stroke:#9C2, stroke-width:2px\n        "},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="operational-research.html#cb70-1" tabindex="-1"></a><span class="fu">library</span>(bupaR)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;bupaR&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:simmer&#39;:
## 
##     select</code></pre>
<pre><code>## The following object is masked from &#39;package:stats&#39;:
## 
##     filter</code></pre>
<pre><code>## The following object is masked from &#39;package:utils&#39;:
## 
##     timestamp</code></pre>
</div>
<div id="supply-chains" class="section level2 hasAnchor" number="9.5">
<h2><span class="header-section-number">9.5</span> Supply chains<a href="operational-research.html#supply-chains" class="anchor-section" aria-label="Anchor link to header"></a></h2>
</div>
<div id="health-economics" class="section level2 hasAnchor" number="9.6">
<h2><span class="header-section-number">9.6</span> Health economics<a href="operational-research.html#health-economics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="cost-1" class="section level3 hasAnchor" number="9.6.1">
<h3><span class="header-section-number">9.6.1</span> Cost<a href="operational-research.html#cost-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="operational-research.html#cb75-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;hesim&quot;</span>)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;hesim&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:tidyr&#39;:
## 
##     expand</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="operational-research.html#cb78-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;data.table&quot;</span>)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;data.table&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:rlang&#39;:
## 
##     :=</code></pre>
<pre><code>## The following objects are masked from &#39;package:lubridate&#39;:
## 
##     hour, isoweek, mday, minute, month, quarter, second, wday, week,
##     yday, year</code></pre>
<pre><code>## The following objects are masked from &#39;package:dplyr&#39;:
## 
##     between, first, last</code></pre>
<pre><code>## The following object is masked from &#39;package:purrr&#39;:
## 
##     transpose</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="operational-research.html#cb84-1" tabindex="-1"></a>strategies <span class="ot">&lt;-</span> <span class="fu">data.table</span>(<span class="at">strategy_id =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb84-2"><a href="operational-research.html#cb84-2" tabindex="-1"></a>n_patients <span class="ot">&lt;-</span> <span class="dv">1000</span></span>
<span id="cb84-3"><a href="operational-research.html#cb84-3" tabindex="-1"></a>patients <span class="ot">&lt;-</span> <span class="fu">data.table</span>(<span class="at">patient_id =</span> <span class="dv">1</span><span class="sc">:</span>n_patients,</span>
<span id="cb84-4"><a href="operational-research.html#cb84-4" tabindex="-1"></a>          <span class="at">age =</span> <span class="fu">rnorm</span>(n_patients, <span class="at">mean =</span> <span class="dv">70</span>, <span class="at">sd =</span> <span class="dv">10</span>),</span>
<span id="cb84-5"><a href="operational-research.html#cb84-5" tabindex="-1"></a>          <span class="at">female =</span> <span class="fu">rbinom</span>(n_patients, <span class="at">size =</span> <span class="dv">1</span>, <span class="at">prob =</span> .<span class="dv">4</span>))</span>
<span id="cb84-6"><a href="operational-research.html#cb84-6" tabindex="-1"></a>states <span class="ot">&lt;-</span> <span class="fu">data.table</span>(<span class="at">state_id =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb84-7"><a href="operational-research.html#cb84-7" tabindex="-1"></a>                     <span class="at">state_name =</span> <span class="fu">c</span>(<span class="st">&quot;Healthy&quot;</span>, <span class="st">&quot;Sick&quot;</span>)) </span>
<span id="cb84-8"><a href="operational-research.html#cb84-8" tabindex="-1"></a><span class="co"># Non-death health states</span></span>
<span id="cb84-9"><a href="operational-research.html#cb84-9" tabindex="-1"></a>tmat <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">c</span>(<span class="cn">NA</span>, <span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb84-10"><a href="operational-research.html#cb84-10" tabindex="-1"></a>              <span class="fu">c</span>(<span class="dv">3</span>, <span class="cn">NA</span>, <span class="dv">4</span>),</span>
<span id="cb84-11"><a href="operational-research.html#cb84-11" tabindex="-1"></a>              <span class="fu">c</span>(<span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>))</span>
<span id="cb84-12"><a href="operational-research.html#cb84-12" tabindex="-1"></a><span class="fu">colnames</span>(tmat) <span class="ot">&lt;-</span> <span class="fu">rownames</span>(tmat) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Healthy&quot;</span>, <span class="st">&quot;Sick&quot;</span>, <span class="st">&quot;Dead&quot;</span>)</span>
<span id="cb84-13"><a href="operational-research.html#cb84-13" tabindex="-1"></a>transitions <span class="ot">&lt;-</span> <span class="fu">create_trans_dt</span>(tmat)</span>
<span id="cb84-14"><a href="operational-research.html#cb84-14" tabindex="-1"></a>transitions[, trans <span class="sc">:=</span> <span class="fu">factor</span>(transition_id)]</span>
<span id="cb84-15"><a href="operational-research.html#cb84-15" tabindex="-1"></a>hesim_dat <span class="ot">&lt;-</span> <span class="fu">hesim_data</span>(<span class="at">strategies =</span> strategies,</span>
<span id="cb84-16"><a href="operational-research.html#cb84-16" tabindex="-1"></a>                        <span class="at">patients =</span> patients, </span>
<span id="cb84-17"><a href="operational-research.html#cb84-17" tabindex="-1"></a>                        <span class="at">states =</span> states,</span>
<span id="cb84-18"><a href="operational-research.html#cb84-18" tabindex="-1"></a>                        <span class="at">transitions =</span> transitions)</span>
<span id="cb84-19"><a href="operational-research.html#cb84-19" tabindex="-1"></a><span class="fu">print</span>(hesim_dat)</span></code></pre></div>
<pre><code>## $strategies
##    strategy_id
## 1:           1
## 2:           2
## 
## $patients
##       patient_id      age female
##    1:          1 61.99932      1
##    2:          2 65.95321      0
##    3:          3 56.97051      0
##    4:          4 89.82190      1
##    5:          5 48.45879      0
##   ---                           
##  996:        996 73.50196      1
##  997:        997 81.33720      0
##  998:        998 52.63094      1
##  999:        999 80.48849      0
## 1000:       1000 35.97193      0
## 
## $states
##    state_id state_name
## 1:        1    Healthy
## 2:        2       Sick
## 
## $transitions
##    transition_id from to from_name to_name trans
## 1:             1    1  2   Healthy    Sick     1
## 2:             2    1  3   Healthy    Dead     2
## 3:             3    2  1      Sick Healthy     3
## 4:             4    2  3      Sick    Dead     4
## 
## attr(,&quot;class&quot;)
## [1] &quot;hesim_data&quot;</code></pre>
<p>Data from WHO on mortality rate can be extracted directly from WHO or by calling <em>get_who_mr</em> in <em>heemod</em> library.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="operational-research.html#cb86-1" tabindex="-1"></a><span class="fu">library</span>(heemod)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;heemod&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:purrr&#39;:
## 
##     modify</code></pre>
<pre><code>## The following object is masked from &#39;package:simmer&#39;:
## 
##     join</code></pre>
<p>There are several data in BCEA library such as Vaccine.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="operational-research.html#cb90-1" tabindex="-1"></a><span class="fu">library</span>(BCEA)</span></code></pre></div>
<pre><code>## The BCEA version loaded is: 2.4.4</code></pre>
<pre><code>## 
## Attaching package: &#39;BCEA&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:graphics&#39;:
## 
##     contour</code></pre>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="operational-research.html#cb94-1" tabindex="-1"></a><span class="co">#use Vaccine data from BCEA</span></span>
<span id="cb94-2"><a href="operational-research.html#cb94-2" tabindex="-1"></a><span class="fu">data</span>(Vaccine)</span>
<span id="cb94-3"><a href="operational-research.html#cb94-3" tabindex="-1"></a></span>
<span id="cb94-4"><a href="operational-research.html#cb94-4" tabindex="-1"></a>ints<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;Standard care&quot;</span>,<span class="st">&quot;Vaccination&quot;</span>)</span>
<span id="cb94-5"><a href="operational-research.html#cb94-5" tabindex="-1"></a></span>
<span id="cb94-6"><a href="operational-research.html#cb94-6" tabindex="-1"></a><span class="co"># Runs the health economic evaluation using BCEA</span></span>
<span id="cb94-7"><a href="operational-research.html#cb94-7" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">bcea</span>(</span>
<span id="cb94-8"><a href="operational-research.html#cb94-8" tabindex="-1"></a>      <span class="at">e=</span>eff,</span>
<span id="cb94-9"><a href="operational-research.html#cb94-9" tabindex="-1"></a>      <span class="at">c=</span>cost,               <span class="co"># defines the variables of </span></span>
<span id="cb94-10"><a href="operational-research.html#cb94-10" tabindex="-1"></a>                            <span class="co">#  effectiveness and cost</span></span>
<span id="cb94-11"><a href="operational-research.html#cb94-11" tabindex="-1"></a>      <span class="at">ref=</span><span class="dv">2</span>,                <span class="co"># selects the 2nd row of (e, c) </span></span>
<span id="cb94-12"><a href="operational-research.html#cb94-12" tabindex="-1"></a>                            <span class="co">#  as containing the reference intervention</span></span>
<span id="cb94-13"><a href="operational-research.html#cb94-13" tabindex="-1"></a>      <span class="at">interventions=</span>treats, <span class="co"># defines the labels to be associated </span></span>
<span id="cb94-14"><a href="operational-research.html#cb94-14" tabindex="-1"></a>                            <span class="co">#  with each intervention</span></span>
<span id="cb94-15"><a href="operational-research.html#cb94-15" tabindex="-1"></a>      <span class="at">Kmax=</span><span class="dv">50000</span>,           <span class="co"># maximum value possible for the willingness </span></span>
<span id="cb94-16"><a href="operational-research.html#cb94-16" tabindex="-1"></a>                            <span class="co">#  to pay threshold; implies that k is chosen </span></span>
<span id="cb94-17"><a href="operational-research.html#cb94-17" tabindex="-1"></a>                            <span class="co">#  in a grid from the interval (0, Kmax)</span></span>
<span id="cb94-18"><a href="operational-research.html#cb94-18" tabindex="-1"></a>      <span class="at">plot=</span><span class="cn">TRUE</span>             <span class="co"># plots the results</span></span>
<span id="cb94-19"><a href="operational-research.html#cb94-19" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="Applications-of-R-in-Healthcare_files/figure-html/08-operational-research-12-1.png" width="672" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="bayesian-analysis.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="graph-theory.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/08-operational-research.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Applications-of-R-in-Healthcare.pdf", "Applications-of-R-in-Healthcare.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
